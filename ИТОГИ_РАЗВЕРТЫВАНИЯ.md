# ‚úÖ –†–ê–ó–í–ï–†–¢–´–í–ê–ù–ò–ï –ó–ê–í–ï–†–®–ï–ù–û!

## üéâ –°–¢–ê–¢–£–° –†–ê–ó–í–ï–†–¢–´–í–ê–ù–ò–Ø

### ‚úÖ Backend - –†–ê–ë–û–¢–ê–ï–¢
- ‚úÖ Prisma schema –æ–±–Ω–æ–≤–ª–µ–Ω –¥–ª—è MySQL
- ‚úÖ –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω–∞
- ‚úÖ .env.production –Ω–∞—Å—Ç—Ä–æ–µ–Ω
- ‚úÖ –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã
- ‚úÖ –°–±–æ—Ä–∫–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∞
- ‚úÖ PM2 –∑–∞–ø—É—â–µ–Ω (2 –∏–Ω—Å—Ç–∞–Ω—Å–∞)
- ‚úÖ Backend –æ—Ç–≤–µ—á–∞–µ—Ç –Ω–∞ http://localhost:3000/health

### ‚úÖ Frontend - –†–ê–ó–í–ï–†–ù–£–¢
- ‚úÖ .env.production —Å–æ–∑–¥–∞–Ω
- ‚úÖ –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã
- ‚úÖ –°–±–æ—Ä–∫–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∞
- ‚úÖ –§–∞–π–ª—ã —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω—ã –≤ public_html

---

## üìã –ß–¢–û –ë–´–õ–û –ò–°–ü–†–ê–í–õ–ï–ù–û

1. **Prisma schema** - –æ–±–Ω–æ–≤–ª–µ–Ω –¥–ª—è MySQL
2. **TypeScript –æ—à–∏–±–∫–∏:**
   - WebSocketGateway ‚Üí MessagerWebSocketGateway (–∫–æ–Ω—Ñ–ª–∏–∫—Ç –∏–º–µ–Ω)
   - –£–±—Ä–∞–Ω–æ `mode: 'insensitive'` (–Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è MySQL)
   - –ò—Å–ø—Ä–∞–≤–ª–µ–Ω `token` ‚Üí `accessToken` –≤ auth.controller
3. **PM2 –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è:**
   - –î–æ–±–∞–≤–ª–µ–Ω–∞ –∑–∞–≥—Ä—É–∑–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è –∏–∑ .env.production
   - –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω dotenv
4. **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö:**
   - –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω–∞ —á–µ—Ä–µ–∑ `prisma db push`
   - –¢–∞–±–ª–∏—Ü—ã —Å–æ–∑–¥–∞–Ω—ã

---

## üåê –î–û–°–¢–£–ü

- **Backend API:** `http://localhost:3000` (–≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π)
- **Frontend:** `https://parser-auto.siteaccess.ru/` (—á–µ—Ä–µ–∑ Nginx)
- **Backend —á–µ—Ä–µ–∑ Nginx:** `https://parser-auto.siteaccess.ru/api` (–Ω—É–∂–Ω–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å)

---

## ‚ö†Ô∏è –ß–¢–û –û–°–¢–ê–õ–û–°–¨

1. **–ù–∞—Å—Ç—Ä–æ–∏—Ç—å Nginx** –¥–ª—è –ø—Ä–æ–∫—Å–∏—Ä–æ–≤–∞–Ω–∏—è:
   - `/api` ‚Üí `http://localhost:3000`
   - `/socket.io/` ‚Üí `http://localhost:3000`
   - `/` ‚Üí `public_html/`

2. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–∞–±–æ—Ç—É:**
   - –û—Ç–∫—Ä—ã—Ç—å `https://parser-auto.siteaccess.ru/`
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—é/–ª–æ–≥–∏–Ω
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å WebSocket —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ

---

## ‚úÖ –ì–û–¢–û–í–û!

–ü—Ä–æ–µ–∫—Ç —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç –∏ –≥–æ—Ç–æ–≤ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é! –û—Å—Ç–∞–ª–æ—Å—å —Ç–æ–ª—å–∫–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å Nginx –¥–ª—è –ø—É–±–ª–∏—á–Ω–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞.
