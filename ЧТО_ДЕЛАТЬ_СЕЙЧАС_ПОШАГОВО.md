# üöÄ –ß–¢–û –î–ï–õ–ê–¢–¨ –°–ï–ô–ß–ê–° (–ü–û–®–ê–ì–û–í–û)

## ‚ö†Ô∏è –ü–†–û–ë–õ–ï–ú–ê

- API –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç 404 Not Found
- –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç
- –ß–∞—Ç –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç (WebSocket)

**–ü—Ä–∏—á–∏–Ω–∞:** Apache –Ω–µ –ø—Ä–æ–∫—Å–∏—Ä—É–µ—Ç –∑–∞–ø—Ä–æ—Å—ã –∫ Backend.

---

## üìã –ü–û–®–ê–ì–û–í–´–ô –ü–õ–ê–ù

### –®–ê–ì 1: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å Backend

```bash
ssh dsc23ytp@5.101.156.207

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ Backend —Ä–∞–±–æ—Ç–∞–µ—Ç
curl http://localhost:30000/health
```

**–î–æ–ª–∂–µ–Ω –≤–µ—Ä–Ω—É—Ç—å:** `{"status":"ok",...}`

**–ï—Å–ª–∏ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç** - –∑–∞–ø—É—Å—Ç–∏—Ç–µ Backend (—Å–º. –Ω–∏–∂–µ).

---

### –®–ê–ì 2: –ó–∞–ø—É—Å—Ç–∏—Ç—å Backend (–µ—Å–ª–∏ –Ω–µ –∑–∞–ø—É—â–µ–Ω)

```bash
ssh dsc23ytp@5.101.156.207

cd ~/messager/backend

export JWT_SECRET='iIPvW1ifTAzaH7FOu2Q19o4sFSHlcLMekdOIFzmkanE='
export DATABASE_URL='mysql://dsc23ytp_mess:r7nCbBSN%cr3@localhost:3306/dsc23ytp_mess'
export NODE_ENV=production
export PORT=30000
export CORS_ORIGIN='https://parser-auto.siteaccess.ru'

nohup node dist/main.js > backend.log 2>&1 &

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å
sleep 3
curl http://localhost:30000/health
```

---

### –®–ê–ì 3: –û–±—Ä–∞—Ç–∏—Ç—å—Å—è –≤ –ø–æ–¥–¥–µ—Ä–∂–∫—É Beget

1. **–ó–∞–π–¥–∏—Ç–µ:** `https://cp.beget.com`
2. **–û—Ç–∫—Ä–æ–π—Ç–µ:** "–ü–æ–¥–¥–µ—Ä–∂–∫–∞"
3. **–°–æ–∑–¥–∞–π—Ç–µ —Ç–∏–∫–µ—Ç**
4. **–°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Ç–µ–∫—Å—Ç –∏–∑ —Ñ–∞–π–ª–∞:** `–ó–ê–ü–†–û–°_–í_–ü–û–î–î–ï–†–ñ–ö–£_–ü–û–õ–ù–´–ô.txt`
5. **–û—Ç–ø—Ä–∞–≤—å—Ç–µ**

**–í–∞–∂–Ω–æ:** –û–±—ä—è—Å–Ω–∏—Ç–µ, —á—Ç–æ –Ω—É–∂–Ω–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –ø—Ä–æ–∫—Å–∏—Ä–æ–≤–∞–Ω–∏–µ `/api` –∏ `/socket.io` –∫ `localhost:30000`.

---

### –®–ê–ì 4: –î–æ–∂–¥–∞—Ç—å—Å—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

–ü–æ—Å–ª–µ —Ç–æ–≥–æ, –∫–∞–∫ –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –Ω–∞—Å—Ç—Ä–æ–∏—Ç –ø—Ä–æ–∫—Å–∏—Ä–æ–≤–∞–Ω–∏–µ:

1. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ API:**
   ```bash
   curl https://parser-auto.siteaccess.ru/api/health
   ```
   –î–æ–ª–∂–µ–Ω –≤–µ—Ä–Ω—É—Ç—å: `{"status":"ok",...}`

2. **–°–æ–∑–¥–∞–π—Ç–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:**
   ```bash
   ssh dsc23ytp@5.101.156.207
   
   curl -X POST http://localhost:30000/api/auth/register \
     -H "Content-Type: application/json" \
     -d '{
       "email": "admin@example.com",
       "username": "admin",
       "password": "admin123"
     }'
   ```

3. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é:**
   - –û—Ç–∫—Ä–æ–π—Ç–µ: `https://parser-auto.siteaccess.ru/login`
   - –í–≤–µ–¥–∏—Ç–µ: `admin@example.com` / `admin123`
   - –î–æ–ª–∂–µ–Ω –ø—Ä–æ–π—Ç–∏ –≤—Ö–æ–¥

---

## üîå –û WEBSOCKET

### –ü–æ—á–µ–º—É –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç:
WebSocket —Ç—Ä–µ–±—É–µ—Ç —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ–π –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–æ–∫—Å–∏—Ä–æ–≤–∞–Ω–∏—è.

### –ß—Ç–æ –Ω—É–∂–Ω–æ:
- –ü—Ä–æ–∫—Å–∏—Ä–æ–≤–∞–Ω–∏–µ `/socket.io` –∫ `localhost:30000/socket.io`
- –ó–∞–≥–æ–ª–æ–≤–∫–∏ `Upgrade: websocket` –∏ `Connection: upgrade`

### –ü–æ—Å–ª–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏:
- WebSocket –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞—Ä–∞–±–æ—Ç–∞–µ—Ç
- –ß–∞—Ç –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å
- –í–∏–¥–µ–æ–∑–≤–æ–Ω–∫–∏ –±—É–¥—É—Ç —Ä–∞–±–æ—Ç–∞—Ç—å

---

## ‚úÖ –ò–¢–û–ì–û–í–´–ô –ß–ï–ö–õ–ò–°–¢

- [ ] Backend –∑–∞–ø—É—â–µ–Ω –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç (`curl http://localhost:30000/health`)
- [ ] –û–±—Ä–∞—â–µ–Ω–∏–µ –≤ –ø–æ–¥–¥–µ—Ä–∂–∫—É Beget –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ
- [ ] –ü—Ä–æ–∫—Å–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π
- [ ] API –¥–æ—Å—Ç—É–ø–µ–Ω —á–µ—Ä–µ–∑ –≤–µ–± (`curl https://parser-auto.siteaccess.ru/api/health`)
- [ ] –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å–æ–∑–¥–∞–Ω
- [ ] –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] WebSocket –ø–æ–¥–∫–ª—é—á–µ–Ω
- [ ] –ß–∞—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç

---

## üéØ –ì–û–¢–û–í–û!

**–ì–ª–∞–≤–Ω–æ–µ:** –û–±—Ä–∞—Ç–∏—Ç–µ—Å—å –≤ –ø–æ–¥–¥–µ—Ä–∂–∫—É Beget —Å –∑–∞–ø—Ä–æ—Å–æ–º –Ω–∞ –Ω–∞—Å—Ç—Ä–æ–π–∫—É –ø—Ä–æ–∫—Å–∏—Ä–æ–≤–∞–Ω–∏—è.

**–ü–æ—Å–ª–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –≤—Å–µ –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å!**
