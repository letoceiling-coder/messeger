# –†–ê–ë–û–¢–ê –° –°–ï–†–í–ï–†–û–ú –ß–ï–†–ï–ó SSH

## üöÄ –ë–´–°–¢–†–´–ô –°–¢–ê–†–¢

### –í–∞—à —Å–µ—Ä–≤–µ—Ä

- **SSH:** `dsc23ytp@dragon`
- **–ü—É—Ç—å –ø—Ä–æ–µ–∫—Ç–∞:** `~/messager`
- **Public HTML:** `~/parser-auto.site-access.ru/public_html`

---

## üìã –ü–ï–†–í–´–ô –ó–ê–ü–£–°–ö

### 1. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ SSH (–æ–¥–∏–Ω —Ä–∞–∑)

**Windows:**
- –°–º. `WINDOWS_SSH_SETUP.md`

**Linux/Mac:**
```bash
# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ SSH config
chmod +x scripts/setup-ssh-config.sh
./scripts/setup-ssh-config.sh
```

### 2. –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è

```bash
ssh dragon
# –î–æ–ª–∂–Ω–æ –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è
```

### 3. –°–æ–∑–¥–∞–Ω–∏–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ

```bash
ssh dragon "mkdir -p ~/messager/{backend,frontend-web,mobile,nginx}"
```

### 4. –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Ñ–∞–π–ª–æ–≤

**Windows (PowerShell):**
```powershell
.\scripts\sync-to-server.ps1
```

**Windows (Git Bash) / Linux / Mac:**
```bash
chmod +x scripts/sync-to-server.sh
./scripts/sync-to-server.sh
```

---

## üîÑ –†–ê–ë–û–¢–ê –° –ü–†–û–ï–ö–¢–û–ú

### –í–∞—Ä–∏–∞–Ω—Ç 1: VS Code Remote SSH (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ "Remote - SSH"
2. F1 ‚Üí "Remote-SSH: Connect to Host"
3. –í—ã–±–µ—Ä–∏—Ç–µ "dragon"
4. –û—Ç–∫—Ä–æ–π—Ç–µ –ø–∞–ø–∫—É: `/home/dsc23ytp/messager`

**–¢–µ–ø–µ—Ä—å VS Code —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞–ø—Ä—è–º—É—é —Å —Ñ–∞–π–ª–∞–º–∏ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ!**

### –í–∞—Ä–∏–∞–Ω—Ç 2: –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –ª–æ–∫–∞–ª—å–Ω–æ-—Å–µ—Ä–≤–µ—Ä

1. –†–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ —Ñ–∞–π–ª—ã –ª–æ–∫–∞–ª—å–Ω–æ
2. –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É–π—Ç–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è:
   ```bash
   ./scripts/sync-to-server.sh
   ```
3. –†–∞–±–æ—Ç–∞–π—Ç–µ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ —á–µ—Ä–µ–∑ SSH

---

## üì¶ –†–ê–ó–í–ï–†–¢–´–í–ê–ù–ò–ï

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ

**Windows (Git Bash):**
```bash
./scripts/deploy-to-server.sh
```

**–í—Ä—É—á–Ω—É—é:**
```bash
# 1. –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è
./scripts/sync-to-server.sh

# 2. –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ
ssh dragon
cd ~/messager/backend
npm install --production
npx prisma generate
npx prisma migrate deploy
npm run build
pm2 restart messager-backend

cd ../frontend-web
npm install
npm run build
cp -r dist/* ~/parser-auto.site-access.ru/public_html/
```

---

## üîß –ü–û–õ–ï–ó–ù–´–ï –ö–û–ú–ê–ù–î–´

### –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ —Å–µ—Ä–≤–µ—Ä—É

```bash
ssh dragon
```

### –†–∞–±–æ—Ç–∞ —Å –ø—Ä–æ–µ–∫—Ç–æ–º

```bash
ssh dragon "cd ~/messager/backend && ls -la"
```

### –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤

```bash
ssh dragon "pm2 logs messager-backend"
```

### –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ Backend

```bash
ssh dragon "cd ~/messager/backend && pm2 restart messager-backend"
```

---

## üìö –î–û–ö–£–ú–ï–ù–¢–ê–¶–ò–Ø

- **`QUICK_DEPLOY_DRAGON.md`** - –±—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç –¥–ª—è –≤–∞—à–µ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞
- **`SERVER_CONFIG.md`** - –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Å–µ—Ä–≤–µ—Ä–∞
- **`SSH_SETUP.md`** - –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ SSH
- **`WINDOWS_SSH_SETUP.md`** - –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ SSH –¥–ª—è Windows

---

## ‚úÖ –ß–ï–ö–õ–ò–°–¢

- [ ] SSH –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Å–æ–∑–¥–∞–Ω–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
- [ ] –§–∞–π–ª—ã —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω—ã
- [ ] VS Code Remote SSH –Ω–∞—Å—Ç—Ä–æ–µ–Ω (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
- [ ] –ü—Ä–æ–µ–∫—Ç —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ

---

## üÜò –ü–†–û–ë–õ–ï–ú–´?

### –ù–µ –ø–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è SSH

```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞
ssh -v dragon

# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∫–ª—é—á–µ–π
ssh-copy-id dsc23ytp@dragon
```

### –û—à–∏–±–∫–∏ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏

- Windows: –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ Git Bash –∏–ª–∏ WSL
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞–ª–∏—á–∏–µ rsync
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ scp –∫–∞–∫ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤—É

### –ü—Ä–æ–±–ª–µ–º—ã —Å –ø—É—Ç—è–º–∏

- Windows: –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ Git Bash –¥–ª—è bash —Å–∫—Ä–∏–ø—Ç–æ–≤
- –ò–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ PowerShell —Å–∫—Ä–∏–ø—Ç—ã

---

## üí° –°–û–í–ï–¢–´

1. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ VS Code Remote SSH** –¥–ª—è —É–¥–æ–±–Ω–æ–π —Ä–∞–±–æ—Ç—ã
2. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ SSH –∫–ª—é—á–∏** –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
3. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å–∫—Ä–∏–ø—Ç—ã** –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏
4. **–°–ª–µ–¥–∏—Ç–µ –∑–∞ –ª–æ–≥–∞–º–∏** —á–µ—Ä–µ–∑ PM2
