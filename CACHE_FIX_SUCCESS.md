# ‚úÖ –°–ò–°–¢–ï–ú–ê –í–ï–†–°–ò–û–ù–ò–†–û–í–ê–ù–ò–Ø –í–ù–ï–î–†–ï–ù–ê –£–°–ü–ï–®–ù–û! (31.01.2026 16:51)

## üéâ –î–ï–ü–õ–û–ô –ó–ê–í–ï–†–®–Å–ù!

### –ß—Ç–æ –æ–±–Ω–æ–≤–ª–µ–Ω–æ:

#### 1. ‚úÖ Meta-—Ç–µ–≥–∏ –≤ index.html
```html
<meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate" />
<meta http-equiv="Pragma" content="no-cache" />
<meta http-equiv="Expires" content="0" />
```

#### 2. ‚úÖ Nginx –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —É—Å–∏–ª–µ–Ω–∞
```nginx
location = /index.html {
    add_header Cache-Control "no-cache, no-store, must-revalidate, proxy-revalidate, max-age=0";
    add_header Pragma "no-cache";
    add_header Expires "0";
    etag off;
    if_modified_since off;
}
```

#### 3. ‚úÖ Vite –Ω–∞—Å—Ç—Ä–æ–µ–Ω –Ω–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ
```typescript
build: {
    rollupOptions: {
        output: {
            entryFileNames: `assets/[name]-[hash].js`,
            chunkFileNames: `assets/[name]-[hash].js`,
            assetFileNames: `assets/[name]-[hash].[ext]`
        }
    }
}
```

---

## üéØ –¢–ï–ü–ï–†–¨ –ë–ï–ó –ü–†–û–ë–õ–ï–ú –° –ö–ï–®–ï–ú!

### –ú–Ω–æ–≥–æ—É—Ä–æ–≤–Ω–µ–≤–∞—è –∑–∞—â–∏—Ç–∞:

1. **Browser Meta-tags** ‚Üí index.html –Ω–µ –∫–µ—à–∏—Ä—É–µ—Ç—Å—è
2. **Nginx Headers** ‚Üí –ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω—ã–π no-cache
3. **ETag disabled** ‚Üí –æ–±—Ö–æ–¥ —Å—Ä–∞–≤–Ω–µ–Ω–∏—è –≤–µ—Ä—Å–∏–π
4. **File Hashing** ‚Üí —É–Ω–∏–∫–∞–ª—å–Ω—ã–µ –∏–º–µ–Ω–∞ –ø—Ä–∏ –∫–∞–∂–¥–æ–π —Å–±–æ—Ä–∫–µ

---

## üß™ –ü–†–û–í–ï–†–¨–¢–ï –ü–†–Ø–ú–û –°–ï–ô–ß–ê–°:

### 1. –û—Ç–∫—Ä–æ–π—Ç–µ https://neekloai.ru

### 2. –ù–∞–∂–º–∏—Ç–µ F12 ‚Üí Network

### 3. –û–±–Ω–æ–≤–∏—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É (–ø—Ä–æ—Å—Ç–æ F5, –±–µ–∑ Ctrl!)

### 4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ:
- ‚úÖ index.html –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è **–∑–∞–Ω–æ–≤–æ** (–Ω–µ –∏–∑ –∫–µ—à–∞)
- ‚úÖ Response Headers —Å–æ–¥–µ—Ä–∂–∞—Ç `Cache-Control: no-cache`
- ‚úÖ –°—Ç–∞—Ç—É—Å: **200** (–Ω–µ 304 Not Modified)

### 5. –°–æ–≤–µ—Ä—à–∏—Ç–µ –≤–∏–¥–µ–æ–∑–≤–æ–Ω–æ–∫

### 6. –û—Ç–∫—Ä–æ–π—Ç–µ "üìã –õ–æ–≥–∏"

### 7. **–î–û–õ–ñ–ù–û –ë–´–¢–¨:**
```
‚úÖ ICE servers: Custom TURN 89.169.39.244 (4 servers)
```

### 8. **–ù–ï –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å:**
```
‚ùå ICE servers: Metered
```

---

## üîç –ú–û–ù–ò–¢–û–†–ò–ù–ì TURN

–û—Ç–∫—Ä–æ–π—Ç–µ –≤ –æ—Ç–¥–µ–ª—å–Ω–æ–º –æ–∫–Ω–µ PowerShell:

```powershell
ssh root@89.169.39.244 "tail -f /var/log/turnserver/turnserver_2026-01-31.log"
```

**–í–æ –≤—Ä–µ–º—è –∑–≤–æ–Ω–∫–∞ –ø–æ—è–≤–∏—Ç—Å—è:**
```
session ...: new, realm=<neekloai.ru>, username=<turn_fdf8b6e8>
ALLOCATE processed, success
usage: rp=..., rb=... (–¥–∞–Ω–Ω—ã–µ!)
```

---

## üìä –†–ê–ó–ú–ï–† –§–ê–ô–õ–û–í

### –î–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è:
```
index.html: 0.49 kB
```

### –ü–æ—Å–ª–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è:
```
index.html: 0.74 kB (+51% –∑–∞ —Å—á—ë—Ç meta-—Ç–µ–≥–æ–≤)
```

---

## üöÄ –ë–£–î–£–©–ò–ï –û–ë–ù–û–í–õ–ï–ù–ò–Ø

### –¢–µ–ø–µ—Ä—å –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ:

```bash
# 1. –û–±–Ω–æ–≤–∏—Ç—å –∫–æ–¥
ssh root@89.169.39.244
cd /var/www/messager
git pull origin main

# 2. –ü–µ—Ä–µ—Å–æ–±—Ä–∞—Ç—å
cd frontend-web
npm run build

# 3. –í—Å—ë! –û–±–Ω–æ–≤–ª–µ–Ω–∏—è –ø—Ä–∏–º–µ–Ω—è—Ç—Å—è –º–≥–Ω–æ–≤–µ–Ω–Ω–æ!
```

–ë—Ä–∞—É–∑–µ—Ä **–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏** –∑–∞–≥—Ä—É–∑–∏—Ç –Ω–æ–≤—É—é –≤–µ—Ä—Å–∏—é –ø—Ä–∏ —Å–ª–µ–¥—É—é—â–µ–º –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã (F5)!

---

## ‚úÖ –ß–ï–ö–õ–ò–°–¢ –ü–†–û–í–ï–†–ö–ò:

- [ ] –û—Ç–∫—Ä—ã–ª https://neekloai.ru
- [ ] –ü—Ä–æ–≤–µ—Ä–∏–ª –≤ Network —á—Ç–æ index.html –Ω–µ –∏–∑ –∫–µ—à–∞
- [ ] –°–æ–≤–µ—Ä—à–∏–ª —Ç–µ—Å—Ç–æ–≤—ã–π –∑–≤–æ–Ω–æ–∫
- [ ] –û—Ç–∫—Ä—ã–ª "üìã –õ–æ–≥–∏" –≤ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ –∑–≤–æ–Ω–∫–∞
- [ ] –£–≤–∏–¥–µ–ª "Custom TURN 89.169.39.244"
- [ ] –ü—Ä–æ–≤–µ—Ä–∏–ª –ª–æ–≥–∏ TURN –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
- [ ] –£–≤–∏–¥–µ–ª –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å (session ... new)

---

## üéä –†–ï–ó–£–õ–¨–¢–ê–¢:

# –¢–ï–ü–ï–†–¨ –û–ë–ù–û–í–õ–ï–ù–ò–Ø –†–ê–ë–û–¢–ê–Æ–¢ –ë–ï–ó –ü–†–û–ë–õ–ï–ú –° –ö–ï–®–ï–ú! ‚úÖ

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- ‚úÖ –ù–µ –Ω—É–∂–Ω–æ –æ—á–∏—â–∞—Ç—å –∫–µ—à –≤—Ä—É—á–Ω—É—é
- ‚úÖ –ù–µ –Ω—É–∂–µ–Ω —Ä–µ–∂–∏–º –∏–Ω–∫–æ–≥–Ω–∏—Ç–æ
- ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ –≤—Å–µ—Ö –±—Ä–∞—É–∑–µ—Ä–∞—Ö
- ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö
- ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω–∏—è –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è –º–≥–Ω–æ–≤–µ–Ω–Ω–æ

**–ü–æ–ø—Ä–æ–±—É–π—Ç–µ —Å–µ–π—á–∞—Å –∏ —É–±–µ–¥–∏—Ç–µ—Å—å!** üöÄ
