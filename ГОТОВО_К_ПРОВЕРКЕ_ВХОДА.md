# ‚úÖ –ì–û–¢–û–í–û –ö –ü–†–û–í–ï–†–ö–ï –í–•–û–î–ê

## ‚úÖ –ß–¢–û –°–î–ï–õ–ê–ù–û:

1. ‚úÖ **–î–æ–±–∞–≤–ª–µ–Ω–æ –¥–µ—Ç–∞–ª—å–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ** –≤ `auth.service.ts`
2. ‚úÖ **–û–±–Ω–æ–≤–ª–µ–Ω–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Nginx** (–¥–æ–±–∞–≤–ª–µ–Ω IP, —É–¥–∞–ª–µ–Ω –∫–æ–Ω—Ñ–ª–∏–∫—Ç—É—é—â–∏–π –∫–æ–Ω—Ñ–∏–≥)
3. ‚úÖ **Backend –ø–µ—Ä–µ–∑–∞–ø—É—â–µ–Ω** —Å –Ω–æ–≤—ã–º –∫–æ–¥–æ–º

---

## üîç –¢–ï–ü–ï–†–¨ –ü–û–ü–†–û–ë–£–ô–¢–ï:

### 1. –û—Ç–∫—Ä–æ–π—Ç–µ –±—Ä–∞—É–∑–µ—Ä:
```
http://89.169.39.244/login
```

### 2. –í–≤–µ–¥–∏—Ç–µ –¥–∞–Ω–Ω—ã–µ:
- **Email:** `dsc-23@yandex.ru` (–∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ lowercase)
- **Password:** `123123123`

### 3. –ù–∞–∂–º–∏—Ç–µ "–í–æ–π—Ç–∏"

---

## üìä –ü–†–û–í–ï–†–ö–ê –õ–û–ì–û–í:

–ü–æ—Å–ª–µ –ø–æ–ø—ã—Ç–∫–∏ –≤—Ö–æ–¥–∞ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ:

```bash
ssh root@89.169.39.244 "pm2 logs messager-backend --lines 50 | grep AUTH"
```

**–í—ã –¥–æ–ª–∂–Ω—ã —É–≤–∏–¥–µ—Ç—å:**
```
[AUTH] Login attempt: { email: 'dsc-23@yandex.ru', normalized: 'dsc-23@yandex.ru' }
[AUTH] User found: dsc-23@yandex.ru
[AUTH] Comparing password...
[AUTH] Password valid: true/false
[AUTH] Login successful for: dsc-23@yandex.ru
```

---

## üîß –í–û–ó–ú–û–ñ–ù–´–ï –ü–†–û–ë–õ–ï–ú–´ –ò –†–ï–®–ï–ù–ò–Ø:

### –ï—Å–ª–∏ `User found: null`:
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –Ω–∞–π–¥–µ–Ω –≤ –±–∞–∑–µ
- **–†–µ—à–µ–Ω–∏–µ:** –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ—Å—å –∑–∞–Ω–æ–≤–æ —á–µ—Ä–µ–∑ `/register`

### –ï—Å–ª–∏ `Password valid: false`:
- –ü–∞—Ä–æ–ª—å –Ω–µ —Å–æ–≤–ø–∞–¥–∞–µ—Ç
- **–†–µ—à–µ–Ω–∏–µ:** –£–¥–∞–ª–∏—Ç–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ—Å—å –∑–∞–Ω–æ–≤–æ

### –ï—Å–ª–∏ –ª–æ–≥–∏ –Ω–µ –ø–æ—è–≤–ª—è—é—Ç—Å—è:
- –ó–∞–ø—Ä–æ—Å –Ω–µ –¥–æ—Ö–æ–¥–∏—Ç –¥–æ backend
- **–†–µ—à–µ–Ω–∏–µ:** –ü—Ä–æ–≤–µ—Ä—å—Ç–µ Nginx –∏ —Å–µ—Ç—å

---

## üìù –ö–û–ú–ê–ù–î–´ –î–õ–Ø –î–ò–ê–ì–ù–û–°–¢–ò–ö–ò:

```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
ssh root@89.169.39.244 "mysql -u messager_user -pr7nCbBSN%cr3 messager -e 'SELECT email, username FROM users;'"

# –£–¥–∞–ª–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)
ssh root@89.169.39.244 "mysql -u messager_user -pr7nCbBSN%cr3 messager -e \"DELETE FROM users WHERE email = 'dsc-23@yandex.ru';\""

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
ssh root@89.169.39.244 "pm2 logs messager-backend --lines 0"
```

---

## ‚úÖ –°–õ–ï–î–£–Æ–©–ò–ï –®–ê–ì–ò:

1. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –≤–æ–π—Ç–∏ —á–µ—Ä–µ–∑ –±—Ä–∞—É–∑–µ—Ä
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –∫–æ–º–∞–Ω–¥–æ–π –≤—ã—à–µ
3. –°–æ–æ–±—â–∏—Ç–µ, —á—Ç–æ –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç –ª–æ–≥–∏
4. –Ø –∏—Å–ø—Ä–∞–≤–ª—é –ø—Ä–æ–±–ª–µ–º—É –Ω–∞ –æ—Å–Ω–æ–≤–µ –ª–æ–≥–æ–≤

**–í—Å–µ –≥–æ—Ç–æ–≤–æ –¥–ª—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏!** üöÄ
