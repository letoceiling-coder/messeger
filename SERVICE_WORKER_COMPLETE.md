# ‚úÖ SERVICE WORKER –î–û–ë–ê–í–õ–ï–ù! –ê–í–¢–û–û–ë–ù–û–í–õ–ï–ù–ò–ï –†–ê–ë–û–¢–ê–ï–¢! (31.01.2026 18:05)

## üéØ –ü–†–û–ë–õ–ï–ú–ê –†–ï–®–ï–ù–ê:

### –†–∞–Ω—å—à–µ:
‚ùå –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –¥–æ–ª–∂–Ω—ã –±—ã–ª–∏ **–≤—Ä—É—á–Ω—É—é –æ—á–∏—â–∞—Ç—å –∫–µ—à** –±—Ä–∞—É–∑–µ—Ä–∞  
‚ùå –ù–∞ —Ç–µ–ª–µ—Ñ–æ–Ω–µ —ç—Ç–æ **—Å–ª–æ–∂–Ω–æ** (DevTools –Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ã)  
‚ùå **–ù–µ—É–¥–æ–±–Ω–æ** –¥–ª—è –æ–±—ã—á–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π  

### –°–µ–π—á–∞—Å:
‚úÖ **–ü—Ä–æ—Å—Ç–æ –æ–±–Ω–æ–≤–∏—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É** (F5) - –≤—Å—ë –æ–±–Ω–æ–≤–∏—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏!  
‚úÖ **–†–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ —Ç–µ–ª–µ—Ñ–æ–Ω–µ** - –ø—Ä–æ—Å—Ç–æ –ø–æ—Ç—è–Ω–∏—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É –≤–Ω–∏–∑ –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è  
‚úÖ **–†–∞–±–æ—Ç–∞–µ—Ç –≤–µ–∑–¥–µ** - –ü–ö, —Ç–µ–ª–µ—Ñ–æ–Ω, –ø–ª–∞–Ω—à–µ—Ç  
‚úÖ **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –Ω–∏—á–µ–≥–æ –Ω–µ –∑–Ω–∞—é—Ç** –æ –∫–µ—à–µ –∏ –≤–µ—Ä—Å–∏—è—Ö  

---

## üîß –ß–¢–û –î–û–ë–ê–í–õ–ï–ù–û:

### 1. Service Worker (`/sw.js`)

–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:
- üîç **–û—Ç—Å–ª–µ–∂–∏–≤–∞–µ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏—è** JS —Ñ–∞–π–ª–æ–≤ (–ø–æ —Ö–µ—à—É –≤ –∏–º–µ–Ω–∏)
- üóëÔ∏è **–£–¥–∞–ª—è–µ—Ç —Å—Ç–∞—Ä—ã–π –∫–µ—à** –ø—Ä–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏
- üîÑ **–ü–µ—Ä–µ–∑–∞–≥—Ä—É–∂–∞–µ—Ç —Å—Ç—Ä–∞–Ω–∏—Ü—É** –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏ –Ω–æ–≤–æ–π –≤–µ—Ä—Å–∏–∏
- ‚è±Ô∏è **–ü—Ä–æ–≤–µ—Ä—è–µ—Ç –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è** –∫–∞–∂–¥—ã–µ 30 —Å–µ–∫—É–Ω–¥
- üì± **–†–∞–±–æ—Ç–∞–µ—Ç offline** (–ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ)

### 2. –û–±–Ω–æ–≤–ª–µ–Ω `index.html`

–î–æ–±–∞–≤–ª–µ–Ω —Å–∫—Ä–∏–ø—Ç —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ Service Worker:
```javascript
if ('serviceWorker' in navigator) {
  navigator.serviceWorker.register('/sw.js').then((registration) => {
    // –ü—Ä–æ–≤–µ—Ä—è—Ç—å –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –∫–∞–∂–¥—ã–µ 30 —Å–µ–∫—É–Ω–¥
    setInterval(() => {
      registration.update();
    }, 30000);
    
    // –ü—Ä–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ - –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É
    registration.addEventListener('updatefound', () => {
      // ... –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∞
    });
  });
}
```

### 3. –û–±–Ω–æ–≤–ª–µ–Ω Nginx

–î–æ–±–∞–≤–ª–µ–Ω–æ –ø—Ä–∞–≤–∏–ª–æ –¥–ª—è `sw.js`:
```nginx
location = /sw.js {
    add_header Cache-Control "no-cache, no-store, must-revalidate";
    add_header Service-Worker-Allowed "/";
    etag off;
    if_modified_since off;
}
```

---

## üé¨ –ö–ê–ö –≠–¢–û –†–ê–ë–û–¢–ê–ï–¢:

### –°—Ü–µ–Ω–∞—Ä–∏–π –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è:

```
1. –†–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫ –¥–µ–ª–∞–µ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ –∫–æ–¥–µ
   ‚Üì
2. –î–µ–ø–ª–æ–π: git push ‚Üí git pull ‚Üí npm run build
   ‚Üì
3. Vite —Å–æ–∑–¥–∞–µ—Ç –Ω–æ–≤—ã–π JS —Ñ–∞–π–ª —Å –ù–û–í–´–ú —Ö–µ—à–µ–º:
   index-BCHYCpCN.js ‚Üí index-XYZ123AB.js
   ‚Üì
4. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç —Å–∞–π—Ç –∏–ª–∏ –æ–±–Ω–æ–≤–ª—è–µ—Ç —Å—Ç—Ä–∞–Ω–∏—Ü—É
   ‚Üì
5. Service Worker –∑–∞–≥—Ä—É–∂–∞–µ—Ç index.html
   ‚Üì
6. Service Worker –≤–∏–¥–∏—Ç –ù–û–í–´–ô —Ö–µ—à JS —Ñ–∞–π–ª–∞
   ‚Üì
7. Service Worker:
   - –£–¥–∞–ª—è–µ—Ç —Å—Ç–∞—Ä—ã–π –∫–µ—à
   - –ó–∞–≥—Ä—É–∂–∞–µ—Ç –Ω–æ–≤—ã–µ —Ñ–∞–π–ª—ã
   - –ê–í–¢–û–ú–ê–¢–ò–ß–ï–°–ö–ò –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∂–∞–µ—Ç —Å—Ç—Ä–∞–Ω–∏—Ü—É
   ‚Üì
8. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–∏–¥–∏—Ç –ù–û–í–£–Æ –≤–µ—Ä—Å–∏—é!
```

### –î–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:

```
1. –û—Ç–∫—Ä—ã–ª —Å–∞–π—Ç
2. (–ï—Å–ª–∏ –µ—Å—Ç—å –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ) ‚Üí —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –æ–±–Ω–æ–≤–∏—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
3. –í—Å—ë! –ù–∏–∫–∞–∫–∏—Ö –¥–µ–π—Å—Ç–≤–∏–π!
```

---

## üì± –ö–ê–ö –ü–û–õ–¨–ó–û–í–ê–¢–¨–°–Ø:

### –ù–∞ –∫–æ–º–ø—å—é—Ç–µ—Ä–µ:
1. –û—Ç–∫—Ä–æ–π—Ç–µ https://neekloai.ru
2. –ï—Å–ª–∏ –µ—Å—Ç—å –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ - —Å—Ç—Ä–∞–Ω–∏—Ü–∞ **–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç—Å—è**
3. –ò–ª–∏ –ø—Ä–æ—Å—Ç–æ –Ω–∞–∂–º–∏—Ç–µ **F5** (–æ–±—ã—á–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ)

### –ù–∞ —Ç–µ–ª–µ—Ñ–æ–Ω–µ:
1. –û—Ç–∫—Ä–æ–π—Ç–µ https://neekloai.ru
2. **–ü–æ—Ç—è–Ω–∏—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É –≤–Ω–∏–∑** –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
3. –ï—Å–ª–∏ –µ—Å—Ç—å –Ω–æ–≤–∞—è –≤–µ—Ä—Å–∏—è - –∑–∞–≥—Ä—É–∑–∏—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏!

### –ù–∏–∫–∞–∫–∏—Ö:
- ‚ùå Ctrl + Shift + Delete
- ‚ùå –û—á–∏—Å—Ç–∫–∏ –∫–µ—à–∞
- ‚ùå –ñ–µ—Å—Ç–∫–æ–π –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏
- ‚ùå DevTools

**–ü—Ä–æ—Å—Ç–æ –æ–±–Ω–æ–≤–∏—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É!** ‚úÖ

---

## üß™ –ö–ê–ö –ü–†–û–í–ï–†–ò–¢–¨:

### 1. –û—Ç–∫—Ä–æ–π—Ç–µ DevTools (F12) ‚Üí Console

–î–æ–ª–∂–Ω—ã —É–≤–∏–¥–µ—Ç—å:
```
[SW] Registered: ServiceWorkerRegistration {...}
[SW] Installing new version: v-1738344000000
[SW] Activating new version: v-1738344000000
```

### 2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ Application ‚Üí Service Workers

–î–æ–ª–∂–µ–Ω –±—ã—Ç—å –∞–∫—Ç–∏–≤–µ–Ω:
```
Status: activated and is running
Source: /sw.js
```

### 3. –ü—Ä–∏ —Å–ª–µ–¥—É—é—â–µ–º –¥–µ–ø–ª–æ–µ:

–í –∫–æ–Ω—Å–æ–ª–∏ –ø–æ—è–≤–∏—Ç—Å—è:
```
[SW] Deleting old cache: messager-cache-v-1738344000000
[SW] New version activated, reloading...
```

–ò —Å—Ç—Ä–∞–Ω–∏—Ü–∞ **–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±–Ω–æ–≤–∏—Ç—Å—è**!

---

## ‚ö° –ü–†–ï–ò–ú–£–©–ï–°–¢–í–ê:

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –†–∞–Ω—å—à–µ | –°–µ–π—á–∞—Å |
|----------|--------|--------|
| –û—á–∏—Å—Ç–∫–∞ –∫–µ—à–∞ | –í—Ä—É—á–Ω—É—é ‚ùå | –ê–≤—Ç–æ ‚úÖ |
| –ù–∞ —Ç–µ–ª–µ—Ñ–æ–Ω–µ | –°–ª–æ–∂–Ω–æ ‚ùå | –õ–µ–≥–∫–æ ‚úÖ |
| –î–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π | –ó–∞–ø—É—Ç–∞–Ω–Ω–æ ‚ùå | –ü—Ä–æ–∑—Ä–∞—á–Ω–æ ‚úÖ |
| –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π | –ù–∏–∫–æ–≥–¥–∞ | –ö–∞–∂–¥—ã–µ 30 —Å–µ–∫ ‚úÖ |
| Offline | –ù–µ —Ä–∞–±–æ—Ç–∞–µ—Ç | –°–æ–æ–±—â–µ–Ω–∏–µ ‚úÖ |
| JS —Å —Ö–µ—à–µ–º | ‚úÖ | ‚úÖ |
| CSS —Å —Ö–µ—à–µ–º | ‚úÖ | ‚úÖ |

---

## üîÑ –û–ë–ù–û–í–õ–ï–ù–ò–Ø –¢–ï–ü–ï–†–¨:

### –î–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞:
```bash
# 1. –°–¥–µ–ª–∞—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ –∫–æ–¥–µ
# 2. –î–µ–ø–ª–æ–π
git add .
git commit -m "–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –±–∞–≥–∞"
git push origin main

# 3. –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ
ssh root@89.169.39.244 "cd /var/www/messager && git pull && cd frontend-web && npx vite build && sudo systemctl reload nginx"

# 4. –ì–æ—Ç–æ–≤–æ! –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –ø–æ–ª—É—á–∞—Ç –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏!
```

### –î–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:
```
# 1. –û–±–Ω–æ–≤–∏—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É (F5 –∏–ª–∏ –ø–æ—Ç—è–Ω—É—Ç—å –≤–Ω–∏–∑ –Ω–∞ —Ç–µ–ª–µ—Ñ–æ–Ω–µ)
# 2. –í—Å—ë! –ù–æ–≤–∞—è –≤–µ—Ä—Å–∏—è –∑–∞–≥—Ä—É–∂–µ–Ω–∞!
```

---

## üéâ –ò–¢–û–ì:

‚úÖ **Service Worker —Ä–∞–±–æ—Ç–∞–µ—Ç**  
‚úÖ **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–µ—à–∞**  
‚úÖ **–ù–µ –Ω—É–∂–Ω–æ –æ—á–∏—â–∞—Ç—å –∫–µ—à –≤—Ä—É—á–Ω—É—é**  
‚úÖ **–†–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ –≤—Å–µ—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö**  
‚úÖ **–ü—Ä–æ–≤–µ—Ä–∫–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π –∫–∞–∂–¥—ã–µ 30 —Å–µ–∫—É–Ω–¥**  
‚úÖ **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∞ –ø—Ä–∏ –Ω–æ–≤–æ–π –≤–µ—Ä—Å–∏–∏**  

**–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º —Ç–µ–ø–µ—Ä—å –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –ø—Ä–æ—Å—Ç–æ –æ–±–Ω–æ–≤–∏—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É!** üöÄ

---

## üìû –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–ï:

–ü–æ—Å–ª–µ –¥–µ–ø–ª–æ—è:

1. –û—Ç–∫—Ä–æ–π—Ç–µ https://neekloai.ru
2. –û—Ç–∫—Ä–æ–π—Ç–µ DevTools (F12) ‚Üí Console
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ Service Worker
4. **–ü—Ä–æ—Å—Ç–æ –æ–±–Ω–æ–≤–∏—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É (F5)**
5. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å –¥–≤–æ–π–Ω—ã–º –∫–ª–∏–∫–æ–º —Ä–∞–±–æ—Ç–∞–µ—Ç!

**–ë–æ–ª—å—à–µ –Ω–∏–∫–∞–∫–∏—Ö –ø—Ä–æ–±–ª–µ–º —Å –∫–µ—à–µ–º!** ‚ú®
