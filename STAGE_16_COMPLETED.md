# –≠—Ç–∞–ø 16 ‚Äî –ì—Ä—É–ø–ø–æ–≤—ã–µ —á–∞—Ç—ã ‚úÖ

–î–∞—Ç–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è: 2026-01-30

---

## ‚úÖ –≠—Ç–∞–ø 16: –ì—Ä—É–ø–ø–æ–≤—ã–µ —á–∞—Ç—ã (—Å–æ–∑–¥–∞–Ω–∏–µ, —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ, —Ä–æ–ª–∏)

### 16.1 Backend –¥–ª—è –≥—Ä—É–ø–ø–æ–≤—ã—Ö —á–∞—Ç–æ–≤ ‚úÖ

**–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ:**

#### DTO (Data Transfer Objects):
- `CreateGroupChatDto` ‚Äî —Å–æ–∑–¥–∞–Ω–∏–µ –≥—Ä—É–ø–ø—ã (name, memberIds, description)
- `UpdateGroupChatDto` ‚Äî –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –Ω–∞–∑–≤–∞–Ω–∏—è/–æ–ø–∏—Å–∞–Ω–∏—è
- `AddMemberDto` ‚Äî –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ —É—á–∞—Å—Ç–Ω–∏–∫–∞
- `UpdateMemberRoleDto` ‚Äî –∏–∑–º–µ–Ω–µ–Ω–∏–µ —Ä–æ–ª–∏ (admin/member)

#### –ú–µ—Ç–æ–¥—ã –≤ `ChatsService`:
```typescript
async createGroupChat(currentUserId, name, memberIds, description?)
async updateGroupChat(chatId, currentUserId, name?, description?)
async addMember(chatId, currentUserId, newUserId)
async removeMember(chatId, currentUserId, userIdToRemove)
async leaveGroup(chatId, currentUserId)
async updateMemberRole(chatId, currentUserId, targetUserId, newRole)
```

#### API —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã (`ChatsController`):
- `POST /chats/group` ‚Äî —Å–æ–∑–¥–∞—Ç—å –≥—Ä—É–ø–ø–æ–≤–æ–π —á–∞—Ç
- `PATCH /chats/:id/group` ‚Äî –æ–±–Ω–æ–≤–∏—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –≥—Ä—É–ø–ø–µ
- `POST /chats/:id/members` ‚Äî –¥–æ–±–∞–≤–∏—Ç—å —É—á–∞—Å—Ç–Ω–∏–∫–∞
- `DELETE /chats/:id/members/:userId` ‚Äî —É–¥–∞–ª–∏—Ç—å —É—á–∞—Å—Ç–Ω–∏–∫–∞
- `POST /chats/:id/leave` ‚Äî –ø–æ–∫–∏–Ω—É—Ç—å –≥—Ä—É–ø–ø—É
- `PATCH /chats/:id/members/:userId/role` ‚Äî –∏–∑–º–µ–Ω–∏—Ç—å —Ä–æ–ª—å

#### –ü—Ä–æ–≤–µ—Ä–∫–∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏:
- –¢–æ–ª—å–∫–æ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—ã –º–æ–≥—É—Ç: –¥–æ–±–∞–≤–ª—è—Ç—å/—É–¥–∞–ª—è—Ç—å —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤, –∏–∑–º–µ–Ω—è—Ç—å —Ä–æ–ª–∏, —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –Ω–∞–∑–≤–∞–Ω–∏–µ
- –£—á–∞—Å—Ç–Ω–∏–∫–∏ –º–æ–≥—É—Ç –ø–æ–∫–∏–Ω—É—Ç—å –≥—Ä—É–ø–ø—É
- –°–æ–∑–¥–∞—Ç–µ–ª—å –≥—Ä—É–ø–ø—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–ª—É—á–∞–µ—Ç —Ä–æ–ª—å `admin`

#### –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –º–µ—Ç–æ–¥—ã:
- `UsersService.getAllUsers()` ‚Äî –ø–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π (–¥–ª—è –≤—ã–±–æ—Ä–∞ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤)
- `UsersController GET /users` ‚Äî —ç–Ω–¥–ø–æ–∏–Ω—Ç –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Å–ø–∏—Å–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

---

### 16.2 UI —Å–æ–∑–¥–∞–Ω–∏—è –≥—Ä—É–ø–ø–æ–≤–æ–≥–æ —á–∞—Ç–∞ ‚úÖ

**–ö–æ–º–ø–æ–Ω–µ–Ω—Ç:** `CreateGroupChatModal.tsx`

#### –î–≤—É—Ö—à–∞–≥–æ–≤—ã–π –ø—Ä–æ—Ü–µ—Å—Å:

**–®–∞–≥ 1: –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –≥—Ä—É–ø–ø–µ**
- –ù–∞–∑–≤–∞–Ω–∏–µ –≥—Ä—É–ø–ø—ã (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ, –º–∞–∫—Å. 100 —Å–∏–º–≤–æ–ª–æ–≤)
- –û–ø–∏—Å–∞–Ω–∏–µ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, –º–∞–∫—Å. 500 —Å–∏–º–≤–æ–ª–æ–≤)
- –°—á—ë—Ç—á–∏–∫ —Å–∏–º–≤–æ–ª–æ–≤
- –í–∞–ª–∏–¥–∞—Ü–∏—è –ø–æ–ª–µ–π

**–®–∞–≥ 2: –í—ã–±–æ—Ä —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤**
- –ü–æ–∏—Å–∫ –ø–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º (username/email)
- –ß–µ–∫–±–æ–∫—Å—ã –¥–ª—è –≤—ã–±–æ—Ä–∞
- –°—á—ë—Ç—á–∏–∫ –≤—ã–±—Ä–∞–Ω–Ω—ã—Ö —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤
- –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –ø–æ–∏—Å–∫–∞

#### UI —ç–ª–µ–º–µ–Ω—Ç—ã:
```tsx
<CreateGroupChatModal 
  isOpen={showGroupChatModal}
  onClose={() => {
    setShowGroupChatModal(false);
    loadChatsAndFinish();
  }}
/>
```

#### –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è:
- –ö–Ω–æ–ø–∫–∞ "–ì—Ä—É–ø–ø–∞" –Ω–∞ `ChatsPage` (—Ä—è–¥–æ–º —Å "–ù–æ–≤—ã–π —á–∞—Ç")
- –ü–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è ‚Äî –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–µ—Ä–µ—Ö–æ–¥ –≤ —Å–æ–∑–¥–∞–Ω–Ω—É—é –≥—Ä—É–ø–ø—É
- Toast —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ–± —É—Å–ø–µ—Ö–µ/–æ—à–∏–±–∫–µ

---

### 16.3 –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —É—á–∞—Å—Ç–Ω–∏–∫–∞–º–∏ –≥—Ä—É–ø–ø—ã ‚úÖ

**–ö–æ–º–ø–æ–Ω–µ–Ω—Ç:** `GroupChatInfo.tsx`

#### –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª –¥–ª—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤:
1. **–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞–∑–≤–∞–Ω–∏—è**
   - Inline —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
   - –ö–Ω–æ–ø–∫–∏ "OK" / "‚úï"

2. **–î–æ–±–∞–≤–ª–µ–Ω–∏–µ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤**
   - –ö–Ω–æ–ø–∫–∞ "+ –î–æ–±–∞–≤–∏—Ç—å"
   - –ü–æ–∏—Å–∫ –ø–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º
   - –ò—Å–∫–ª—é—á–µ–Ω–∏–µ —É–∂–µ –¥–æ–±–∞–≤–ª–µ–Ω–Ω—ã—Ö

3. **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–æ–ª—è–º–∏**
   - –ö–Ω–æ–ø–∫–∞ ‚¨Ü ‚Äî –ø–æ–≤—ã—Å–∏—Ç—å –¥–æ –∞–¥–º–∏–Ω–∞
   - –ö–Ω–æ–ø–∫–∞ ‚¨á ‚Äî –ø–æ–Ω–∏–∑–∏—Ç—å –¥–æ —É—á–∞—Å—Ç–Ω–∏–∫–∞

4. **–£–¥–∞–ª–µ–Ω–∏–µ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤**
   - –ö–Ω–æ–ø–∫–∞ ‚úï –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —É—á–∞—Å—Ç–Ω–∏–∫–∞
   - –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –¥–µ–π—Å—Ç–≤–∏—è

#### –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª –¥–ª—è –≤—Å–µ—Ö —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤:
- **–ü—Ä–æ—Å–º–æ—Ç—Ä —Å–ø–∏—Å–∫–∞ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤**
  - –ê–≤–∞—Ç–∞—Ä—ã
  - –ò–º–µ–Ω–∞
  - –†–æ–ª–∏ (–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä/–£—á–∞—Å—Ç–Ω–∏–∫)
- **–ü–æ–∫–∏–Ω—É—Ç—å –≥—Ä—É–ø–ø—É** (–∫–Ω–æ–ø–∫–∞ –∫—Ä–∞—Å–Ω–æ–≥–æ —Ü–≤–µ—Ç–∞)

#### –û—Ç–∫—Ä—ã—Ç–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏:
- –ö–ª–∏–∫ –Ω–∞ –Ω–∞–∑–≤–∞–Ω–∏–µ –≥—Ä—É–ø–ø—ã –≤ —à–∞–ø–∫–µ —á–∞—Ç–∞
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±–Ω–æ–≤–ª—è–µ—Ç –¥–∞–Ω–Ω—ã–µ —á–∞—Ç–∞ –ø–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π

---

### 16.4 –†–æ–ª–∏ –∏ –ø—Ä–∞–≤–∞ –≤ –≥—Ä—É–ø–ø–∞—Ö ‚úÖ

#### –†–æ–ª–∏:
1. **admin** ‚Äî –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä
   - –î–æ–±–∞–≤–ª–µ–Ω–∏–µ/—É–¥–∞–ª–µ–Ω–∏–µ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤
   - –ò–∑–º–µ–Ω–µ–Ω–∏–µ —Ä–æ–ª–µ–π
   - –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞–∑–≤–∞–Ω–∏—è/–æ–ø–∏—Å–∞–Ω–∏—è –≥—Ä—É–ø–ø—ã

2. **member** ‚Äî —É—á–∞—Å—Ç–Ω–∏–∫
   - –ü—Ä–æ—Å–º–æ—Ç—Ä –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏
   - –û—Ç–ø—Ä–∞–≤–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏–π
   - –ü–æ–∫–∏–Ω—É—Ç—å –≥—Ä—É–ø–ø—É

#### –í–∏–∑—É–∞–ª—å–Ω—ã–µ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã:
- –†–æ–ª—å –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –ø–æ–¥ –∏–º–µ–Ω–µ–º —É—á–∞—Å—Ç–Ω–∏–∫–∞
- –ö–Ω–æ–ø–∫–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –≤–∏–¥–Ω—ã —Ç–æ–ª—å–∫–æ –∞–¥–º–∏–Ω–∞–º
- –ù–µ–ª—å–∑—è –∏–∑–º–µ–Ω–∏—Ç—å —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—É—é —Ä–æ–ª—å

#### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ:
- –°–æ–∑–¥–∞—Ç–µ–ª—å –≥—Ä—É–ø–ø—ã ‚Üí `admin`
- –î–æ–±–∞–≤–ª–µ–Ω–Ω—ã–µ —É—á–∞—Å—Ç–Ω–∏–∫–∏ ‚Üí `member`

---

## –í–∏–∑—É–∞–ª—å–Ω—ã–µ –ø—Ä–∏–º–µ—Ä—ã

### –ö–Ω–æ–ø–∫–∞ —Å–æ–∑–¥–∞–Ω–∏—è –≥—Ä—É–ø–ø—ã:

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ [‚öô]  [+ –ù–æ–≤—ã–π —á–∞—Ç]  [üë• –ì—Ä—É–ø–ø–∞]   ‚îÇ ‚Üê –Ω–æ–≤–∞—è –∫–Ω–æ–ø–∫–∞
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

---

### –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ —Å–æ–∑–¥–∞–Ω–∏—è –≥—Ä—É–ø–ø—ã:

**–®–∞–≥ 1:**
```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  –ù–æ–≤–∞—è –≥—Ä—É–ø–ø–∞              [√ó]  ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ –ù–∞–∑–≤–∞–Ω–∏–µ –≥—Ä—É–ø–ø—ã                 ‚îÇ
‚îÇ ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îÇ
‚îÇ ‚îÇ –í–≤–µ–¥–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ...         ‚îÇ ‚îÇ
‚îÇ ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îÇ
‚îÇ 0/100                           ‚îÇ
‚îÇ                                 ‚îÇ
‚îÇ –û–ø–∏—Å–∞–Ω–∏–µ (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)        ‚îÇ
‚îÇ ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îÇ
‚îÇ ‚îÇ –ö—Ä–∞—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ...         ‚îÇ ‚îÇ
‚îÇ ‚îÇ                             ‚îÇ ‚îÇ
‚îÇ ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îÇ
‚îÇ 0/500                           ‚îÇ
‚îÇ                                 ‚îÇ
‚îÇ [        –î–∞–ª–µ–µ        ]         ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

**–®–∞–≥ 2:**
```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  –î–æ–±–∞–≤–∏—Ç—å —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤       [√ó]  ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îÇ
‚îÇ ‚îÇ üîç –ü–æ–∏—Å–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π...   ‚îÇ ‚îÇ
‚îÇ ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îÇ
‚îÇ                                 ‚îÇ
‚îÇ ‚òë [–ê] –ê–ª–µ–∫—Å–µ–π  alex@mail.ru    ‚îÇ
‚îÇ ‚òê [–ò] –ò–≤–∞–Ω     ivan@mail.ru    ‚îÇ
‚îÇ ‚òë [–ú] –ú–∞—Ä–∏—è    maria@mail.ru   ‚îÇ
‚îÇ                                 ‚îÇ
‚îÇ –í—ã–±—Ä–∞–Ω–æ: 2 —É—á–∞—Å—Ç–Ω–∏–∫–∞            ‚îÇ
‚îÇ                                 ‚îÇ
‚îÇ [  –ù–∞–∑–∞–¥  ]  [ –°–æ–∑–¥–∞—Ç—å –≥—Ä—É–ø–ø—É ] ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

---

### –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –≥—Ä—É–ø–ø–µ:

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –≥—Ä—É–ø–ø–µ       [√ó]  ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ –ù–∞–∑–≤–∞–Ω–∏–µ –≥—Ä—É–ø–ø—ã                 ‚îÇ
‚îÇ –ö–æ–º–∞–Ω–¥–∞ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏  [–ò–∑–º–µ–Ω–∏—Ç—å]  ‚îÇ
‚îÇ                                 ‚îÇ
‚îÇ –£—á–∞—Å—Ç–Ω–∏–∫–∏ (5)        [+ –î–æ–±–∞–≤–∏—Ç—å]‚îÇ
‚îÇ ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îÇ
‚îÇ ‚îÇ [–ê] –ê–ª–µ–∫—Å–µ–π                 ‚îÇ ‚îÇ
‚îÇ ‚îÇ     –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä     ‚¨á  ‚úï  ‚îÇ ‚îÇ
‚îÇ ‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§ ‚îÇ
‚îÇ ‚îÇ [–ò] –ò–≤–∞–Ω                    ‚îÇ ‚îÇ
‚îÇ ‚îÇ     –£—á–∞—Å—Ç–Ω–∏–∫          ‚¨Ü  ‚úï  ‚îÇ ‚îÇ
‚îÇ ‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§ ‚îÇ
‚îÇ ‚îÇ [–ú] –ú–∞—Ä–∏—è                   ‚îÇ ‚îÇ
‚îÇ ‚îÇ     –£—á–∞—Å—Ç–Ω–∏–∫          ‚¨Ü  ‚úï  ‚îÇ ‚îÇ
‚îÇ ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îÇ
‚îÇ                                 ‚îÇ
‚îÇ [     –ü–æ–∫–∏–Ω—É—Ç—å –≥—Ä—É–ø–ø—É     ]     ‚îÇ ‚Üê –∫—Ä–∞—Å–Ω–∞—è –∫–Ω–æ–ø–∫–∞
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

---

### –®–∞–ø–∫–∞ –≥—Ä—É–ø–ø–æ–≤–æ–≥–æ —á–∞—Ç–∞:

**–õ–∏—á–Ω—ã–π —á–∞—Ç:**
```
‚Üê [–ê] –ê–ª–µ–∫—Å–µ–π
    ‚óè –í —Å–µ—Ç–∏
```

**–ì—Ä—É–ø–ø–æ–≤–æ–π —á–∞—Ç:**
```
‚Üê [üë•] –ö–æ–º–∞–Ω–¥–∞ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏  ‚Üê –∫–ª–∏–∫–∞–±–µ–ª—å–Ω–æ
       5 —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤
```

---

## –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–∏–ø–∞ —á–∞—Ç–∞:
```typescript
const isGroupChat = chat?.type === 'group';
const contactName = isGroupChat 
  ? (chat?.name || '–ì—Ä—É–ø–ø–∞') 
  : (contact?.username || '–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å');
```

### API –≤—ã–∑–æ–≤—ã:
```typescript
// –°–æ–∑–¥–∞–Ω–∏–µ –≥—Ä—É–ø–ø—ã
await chatsService.createGroupChat(name, memberIds, description);

// –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —É—á–∞—Å—Ç–Ω–∏–∫–∞
await chatsService.addMember(chatId, userId);

// –£–¥–∞–ª–µ–Ω–∏–µ —É—á–∞—Å—Ç–Ω–∏–∫–∞
await chatsService.removeMember(chatId, userId);

// –ò–∑–º–µ–Ω–µ–Ω–∏–µ —Ä–æ–ª–∏
await chatsService.updateMemberRole(chatId, userId, 'admin');

// –ü–æ–∫–∏–Ω—É—Ç—å –≥—Ä—É–ø–ø—É
await chatsService.leaveGroup(chatId);
```

### –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –Ω–∞ backend:
```typescript
// –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–æ–ª–∏
const currentMember = chat.members.find(m => m.userId === currentUserId);
if (!currentMember || currentMember.role !== 'admin') {
  throw new BadRequestException('–¢–æ–ª—å–∫–æ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä –º–æ–∂–µ—Ç...');
}
```

---

## –§–∞–π–ª—ã

### Backend:
- `backend/src/chats/dto/create-group-chat.dto.ts` ‚ú® –Ω–æ–≤—ã–π
- `backend/src/chats/dto/update-group-chat.dto.ts` ‚ú® –Ω–æ–≤—ã–π
- `backend/src/chats/dto/add-member.dto.ts` ‚ú® –Ω–æ–≤—ã–π
- `backend/src/chats/dto/update-member-role.dto.ts` ‚ú® –Ω–æ–≤—ã–π
- `backend/src/chats/chats.service.ts` (+ 240 —Å—Ç—Ä–æ–∫)
- `backend/src/chats/chats.controller.ts` (+ 65 —Å—Ç—Ä–æ–∫)
- `backend/src/users/users.service.ts` (+ 17 —Å—Ç—Ä–æ–∫)
- `backend/src/users/users.controller.ts` (+ 5 —Å—Ç—Ä–æ–∫)

### Frontend:
- `frontend-web/src/components/CreateGroupChatModal.tsx` ‚ú® –Ω–æ–≤—ã–π (220 —Å—Ç—Ä–æ–∫)
- `frontend-web/src/components/GroupChatInfo.tsx` ‚ú® –Ω–æ–≤—ã–π (310 —Å—Ç—Ä–æ–∫)
- `frontend-web/src/pages/ChatsPage.tsx` (+ 25 —Å—Ç—Ä–æ–∫)
- `frontend-web/src/pages/ChatPage.tsx` (+ 35 —Å—Ç—Ä–æ–∫)
- `frontend-web/src/services/chats.service.ts` (+ 40 —Å—Ç—Ä–æ–∫)
- `frontend-web/src/services/users.service.ts` (+ 7 —Å—Ç—Ä–æ–∫)

### –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:
- `STAGE_16_COMPLETED.md` ‚ú® –Ω–æ–≤—ã–π (—ç—Ç–æ—Ç —Ñ–∞–π–ª)

---

## –°—Ö–µ–º–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

**–£–∂–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –º–æ–¥–µ–ª–∏ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç –≥—Ä—É–ø–ø–æ–≤—ã–µ —á–∞—Ç—ã:**

```prisma
model Chat {
  type String @default("direct") // "direct" | "group"
  name String? // –î–ª—è –≥—Ä—É–ø–ø
}

model ChatMember {
  role String @default("member") // "admin" | "member"
}
```

**–ù–∏–∫–∞–∫–∏—Ö –º–∏–≥—Ä–∞—Ü–∏–π –Ω–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è!** ‚úÖ

---

## –ò—Ç–æ–≥–∏ —ç—Ç–∞–ø–æ–≤ 0-16

### ‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω–æ:
- **–≠—Ç–∞–ø 0** ‚Äî –ë—ã—Å—Ç—Ä—ã–µ –ø–æ–±–µ–¥—ã (UX)
- **–≠—Ç–∞–ø 1** ‚Äî –ü–æ–ª–µ –≤–≤–æ–¥–∞ Telegram
- **–≠—Ç–∞–ø 2** ‚Äî –ó–∞–ø–∏—Å—å –∞—É–¥–∏–æ
- **–≠—Ç–∞–ø 4** ‚Äî –≠–º–æ–¥–∑–∏ (192 —à—Ç, 8 –∫–∞—Ç–µ–≥–æ—Ä–∏–π)
- **–≠—Ç–∞–ø 3+8** ‚Äî –§–æ—Ç–æ/–í–∏–¥–µ–æ
- **–≠—Ç–∞–ø 11** ‚Äî –°–∫–µ–ª–µ—Ç–æ–Ω—ã –∑–∞–≥—Ä—É–∑–∫–∏
- **–≠—Ç–∞–ø 6** ‚Äî –ù–∞—Å—Ç—Ä–æ–π–∫–∏ (–ø—Ä–æ—Ñ–∏–ª—å + —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è + –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ—Å—Ç—å)
- **–≠—Ç–∞–ø 5** ‚Äî –ü–æ–∏—Å–∫ –ø–æ —á–∞—Ç–∞–º
- **–≠—Ç–∞–ø 7** ‚Äî –°—Ç–∞—Ç—É—Å—ã —Å–æ–æ–±—â–µ–Ω–∏–π (‚úì/‚úì‚úì, —Å–∏–Ω–∏–µ)
- **–≠—Ç–∞–ø 9** ‚Äî –ó–≤–æ–Ω–∫–∏ (—É–ª—É—á—à–µ–Ω–Ω—ã–π UI + —Å–æ—Å—Ç–æ—è–Ω–∏—è)
- **–≠—Ç–∞–ø 10** ‚Äî –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ + –∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω–æ–µ –º–µ–Ω—é
- **–≠—Ç–∞–ø 12** ‚Äî –ü–æ–ª–∏—Ä–æ–≤–∫–∞ UX (–¥–∞—Ç—ã, –ø—Ä–æ–∫—Ä—É—Ç–∫–∞, –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã)
- **–≠—Ç–∞–ø 16** ‚Äî –ì—Ä—É–ø–ø–æ–≤—ã–µ —á–∞—Ç—ã ‚úÖ

### üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞:
- **–ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –±–∞–∑–æ–≤–æ–≥–æ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞:** ~93% ‚úÖ
- **–ù–æ–≤—ã—Ö/–æ–±–Ω–æ–≤–ª—ë–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤:** 33+
- **–°—Ç—Ä–æ–∫ –∫–æ–¥–∞:** ~3500+

---

## –°–ª–µ–¥—É—é—â–∏–µ —ç—Ç–∞–ø—ã

### üîú –≠—Ç–∞–ø 17: –ü–æ–∏—Å–∫ –ø–æ —Å–æ–æ–±—â–µ–Ω–∏—è–º
- –ü–æ–∏—Å–∫ –≤–Ω—É—Ç—Ä–∏ —á–∞—Ç–∞
- –ì–ª–æ–±–∞–ª—å–Ω—ã–π –ø–æ–∏—Å–∫ –ø–æ –≤—Å–µ–º —á–∞—Ç–∞–º
- –ü–æ–¥—Å–≤–µ—Ç–∫–∞ –Ω–∞–π–¥–µ–Ω–Ω–æ–≥–æ —Ç–µ–∫—Å—Ç–∞
- –ù–∞–≤–∏–≥–∞—Ü–∏—è –ø–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º

### üîú –≠—Ç–∞–ø 18: –†–µ–∞–∫—Ü–∏–∏ –Ω–∞ —Å–æ–æ–±—â–µ–Ω–∏—è
- –ë—ã—Å—Ç—Ä—ã–µ —Ä–µ–∞–∫—Ü–∏–∏ (‚ù§Ô∏è üëç üòÇ üòÆ üò¢ üî•)
- –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å—á—ë—Ç—á–∏–∫–∞ —Ä–µ–∞–∫—Ü–∏–π
- Backend –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è —Ä–µ–∞–∫—Ü–∏–π

### üîú –≠—Ç–∞–ø 19: –°—Ç–∞—Ç—É—Å "–ø–µ—á–∞—Ç–∞–µ—Ç..."
- WebSocket —Å–æ–±—ã—Ç–∏—è `typing:start` / `typing:stop`
- –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä –≤ —à–∞–ø–∫–µ —á–∞—Ç–∞
- –¢–∞–π–º–∞—É—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ —Å–±—Ä–æ—Å–∞

### üîú –≠—Ç–∞–ø 20: –ü—Ä–∏–∫—Ä–µ–ø–ª–µ–Ω–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
- –ó–∞–≥—Ä—É–∑–∫–∞ —Ñ–∞–π–ª–æ–≤ (PDF, DOC, ZIP, etc.)
- –ò–∫–æ–Ω–∫–∏ —Ç–∏–ø–æ–≤ —Ñ–∞–π–ª–æ–≤
- –°–∫–∞—á–∏–≤–∞–Ω–∏–µ —Ñ–∞–π–ª–æ–≤

### üîú –≠—Ç–∞–ø 14 (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ): –ú–æ–±–∏–ª—å–Ω—ã–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
- Android –∏ iOS
- –ï–¥–∏–Ω—ã–π –≤–∏–∑—É–∞–ª—å–Ω—ã–π —Å—Ç–∏–ª—å
- Push-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
- –§–æ–Ω–æ–≤–∞—è —Ä–∞–±–æ—Ç–∞

---

**–°—Ç–∞—Ç—É—Å –ø—Ä–æ–µ–∫—Ç–∞:** –ì—Ä—É–ø–ø–æ–≤—ã–µ —á–∞—Ç—ã –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã ‚úÖ  
**–ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å:** ~93% –±–∞–∑–æ–≤–æ–≥–æ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞  
**–°–ª–µ–¥—É—é—â–∏–π —Ñ–æ–∫—É—Å:** –ü–æ–∏—Å–∫ –ø–æ —Å–æ–æ–±—â–µ–Ω–∏—è–º ‚Üí –†–µ–∞–∫—Ü–∏–∏ ‚Üí –°—Ç–∞—Ç—É—Å "–ø–µ—á–∞—Ç–∞–µ—Ç..."

**–ú–µ—Å—Å–µ–Ω–¥–∂–µ—Ä –æ–±—Ä–µ—Ç–∞–µ—Ç —Ñ–æ—Ä–º—É –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω–æ–≥–æ –≥—Ä—É–ø–ø–æ–≤–æ–≥–æ –æ–±—â–µ–Ω–∏—è!** üéâüë•
