# Правила проекта Messager

## Деплой при изменениях кода (ОБЯЗАТЕЛЬНО, БЕЗ ИСКЛЮЧЕНИЙ)

**Правило:** При любом изменении кода — полное обновление на сервере (код + сборка + перезапуск).

### Рекомендуемый способ: через Git

Репозиторий: **https://github.com/letoceiling-coder/messeger.git**

1. **Локально:** закоммитить и отправить в Git:
   ```bash
   git add .
   git commit -m "описание"
   git push
   ```
2. **На сервере:** подтянуть код и обновиться:
   ```bash
   cd /var/www/messager && bash scripts/pull-and-update.sh
   ```
   Скрипт делает: `git pull`, сборку фронта и бэка, перезапуск PM2, перезагрузку Nginx.

Подробно: см. **DEPLOY_GIT.md**.

### Альтернатива: синхронизация с ПК (rsync/scp)

Если не используете Git для деплоя:
```powershell
.\scripts\deploy-update.ps1
```
Или: `bash scripts/deploy-update.sh` — копирует файлы на сервер и запускает обновление по SSH.

Сервер: `root@89.169.39.244`, путь: `/var/www/messager`.
