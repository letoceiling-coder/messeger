# –ü–†–û–°–¢–´–ï –ö–û–ú–ê–ù–î–´ –î–õ–Ø –î–û–ë–ê–í–õ–ï–ù–ò–Ø SSH –ö–õ–Æ–ß–ê –ù–ê –°–ï–†–í–ï–†

## üöÄ –ë–´–°–¢–†–´–ô –°–ü–û–°–û–ë (–û–î–ù–ê –ö–û–ú–ê–ù–î–ê)

### –ù–∞ –≤–∞—à–µ–º –∫–æ–º–ø—å—é—Ç–µ—Ä–µ (Windows)

–ï—Å–ª–∏ —É –≤–∞—Å —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω Git Bash –∏–ª–∏ WSL:

```bash
# –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –∫–ª—é—á–∞
./add-ssh-key-to-server.sh dsc23ytp@parser-auto.site-access.ru
```

–í–≤–µ–¥–∏—Ç–µ –ø–∞—Ä–æ–ª—å, –∫–æ–≥–¥–∞ –ø–æ–ø—Ä–æ—Å–∏—Ç.

---

## üìã –†–£–ß–ù–û–ô –°–ü–û–°–û–ë (–ü–û–®–ê–ì–û–í–û)

### –®–∞–≥ 1: –ü–æ–¥–∫–ª—é—á–∏—Ç–µ—Å—å –∫ —Å–µ—Ä–≤–µ—Ä—É

–ù–∞ –≤–∞—à–µ–º –∫–æ–º–ø—å—é—Ç–µ—Ä–µ (PowerShell –∏–ª–∏ Git Bash):

```bash
ssh dsc23ytp@parser-auto.site-access.ru
```

–ò–ª–∏ –µ—Å–ª–∏ –∑–Ω–∞–µ—Ç–µ IP –∞–¥—Ä–µ—Å:
```bash
ssh dsc23ytp@123.45.67.89
```

–í–≤–µ–¥–∏—Ç–µ –ø–∞—Ä–æ–ª—å, –∫–æ–≥–¥–∞ –ø–æ–ø—Ä–æ—Å–∏—Ç.

---

### –®–∞–≥ 2: –í—ã–ø–æ–ª–Ω–∏—Ç–µ –∫–æ–º–∞–Ω–¥—ã –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ

–ü–æ—Å–ª–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ —Å–µ—Ä–≤–µ—Ä—É, –≤—ã–ø–æ–ª–Ω–∏—Ç–µ —ç—Ç–∏ –∫–æ–º–∞–Ω–¥—ã **–ø–æ –ø–æ—Ä—è–¥–∫—É**:

```bash
# 1. –°–æ–∑–¥–∞—Ç—å –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é .ssh
mkdir -p ~/.ssh

# 2. –î–æ–±–∞–≤–∏—Ç—å –≤–∞—à –ø—É–±–ª–∏—á–Ω—ã–π –∫–ª—é—á
echo "ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAACAQCfDT2nhPFvSoDEj6nOCr/kQKxnvCjUTzIh66JqTSoySMqVgJH44M0zEgtj/zM3f5rBBVtLq9vYNUbFnWA7sxrXasmzbYGSCZ1jG8Hm5BABN/Be6HSqganNlPHsVlQlVrpi7H2z8Tw7U5NYV/a4vF9FwToKGBTrhZFFmpGhp773pRDhwP2agzDXGoMrhHAjoTeGBcR1ao7gt5zUtiHxMBKwtV2RcLq0jOR8brWVQGAUweuhPOSzrAf1pvDYiIvvVZyF2Wv4QIKE4YpuGjhzTJlNaXMBeCtyPgNa/rxF2kZRmH5lLAlUmMt71I/n5dLbs60xJLSdWF7ec2I695e4sQi2ONkdJ1nhjNKZfK8tVJ4CoQIkThd8uJiqO+GLcjJscUt8v0JjzNxoMUPCOaOycsV0crEuq4mCXHbKrkGrPGFquaAM4/1b9goV7vOT6GdO2jUcIGUz6fGFIum3zMQ80IvdJUfQ1xc5UB4soIKkSTmhpTr3l2glhpt7+Nq3oGiKHrd/OKedy0SZf+YrcyW6zuMhm0duFA6mMVppjfae0CmWb+9i9U/ZVe1ytImXngtZT1PeOCmsUHihUTMOTNWE2cPKoWz+ssLeQWoGhCQYeHy6d8RmTLhbLhWfMzUvrGsaUorLgILjrp6+eIIovrUe3QcrKevhqH4q/Atec2AXCNpwvw== dsc-2@localhost" >> ~/.ssh/authorized_keys

# 3. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –ø—Ä–∞–≤–∞
chmod 700 ~/.ssh
chmod 600 ~/.ssh/authorized_keys

# 4. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
cat ~/.ssh/authorized_keys
```

---

### –®–∞–≥ 3: –í—ã–π—Ç–∏ —Å —Å–µ—Ä–≤–µ—Ä–∞ –∏ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å

```bash
# –í—ã–π—Ç–∏ —Å —Å–µ—Ä–≤–µ—Ä–∞
exit

# –ü–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è —Å–Ω–æ–≤–∞ (—Ç–µ–ø–µ—Ä—å –±–µ–∑ –ø–∞—Ä–æ–ª—è!)
ssh dsc23ytp@parser-auto.site-access.ru
```

–ï—Å–ª–∏ –ø–æ–¥–∫–ª—é—á–∏–ª–æ—Å—å –±–µ–∑ –ø–∞—Ä–æ–ª—è - –æ—Ç–ª–∏—á–Ω–æ! ‚úÖ

---

## üîß –ê–õ–¨–¢–ï–†–ù–ê–¢–ò–í–ù–´–ô –°–ü–û–°–û–ë (—á–µ—Ä–µ–∑ nano)

–ï—Å–ª–∏ –∫–æ–º–∞–Ω–¥–∞ `echo` –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç, –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ä–µ–¥–∞–∫—Ç–æ—Ä:

```bash
# 1. –°–æ–∑–¥–∞—Ç—å –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é
mkdir -p ~/.ssh

# 2. –û—Ç–∫—Ä—ã—Ç—å —Ñ–∞–π–ª –¥–ª—è —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
nano ~/.ssh/authorized_keys

# 3. –í—Å—Ç–∞–≤–∏—Ç—å –≤–∞—à –∫–ª—é—á (—Å–∫–æ–ø–∏—Ä—É–π—Ç–µ –∏–∑ —Ñ–∞–π–ª–∞ –í–ê–®_SSH_–ö–õ–Æ–ß.txt)
# –í–µ—Å—å —Ç–µ–∫—Å—Ç, –Ω–∞—á–∏–Ω–∞—é—â–∏–π—Å—è —Å "ssh-rsa" –∏ –∑–∞–∫–∞–Ω—á–∏–≤–∞—é—â–∏–π—Å—è "dsc-2@localhost"

# 4. –°–æ—Ö—Ä–∞–Ω–∏—Ç—å:
#    - –ù–∞–∂–º–∏—Ç–µ Ctrl+O (—Å–æ—Ö—Ä–∞–Ω–∏—Ç—å)
#    - –ù–∞–∂–º–∏—Ç–µ Enter (–ø–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å)
#    - –ù–∞–∂–º–∏—Ç–µ Ctrl+X (–≤—ã–π—Ç–∏)

# 5. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ø—Ä–∞–≤–∞
chmod 700 ~/.ssh
chmod 600 ~/.ssh/authorized_keys
```

---

## ‚úÖ –ü–†–û–í–ï–†–ö–ê

–ü–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∫–æ–º–∞–Ω–¥:

1. **–í—ã–π–¥–∏—Ç–µ —Å —Å–µ—Ä–≤–µ—Ä–∞:**
   ```bash
   exit
   ```

2. **–ü–æ–ø—Ä–æ–±—É–π—Ç–µ –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è —Å–Ω–æ–≤–∞:**
   ```bash
   ssh dsc23ytp@parser-auto.site-access.ru
   ```

3. **–ï—Å–ª–∏ –ø–æ–¥–∫–ª—é—á–∏–ª–æ—Å—å –±–µ–∑ –ø–∞—Ä–æ–ª—è** - –≤—Å—ë —Ä–∞–±–æ—Ç–∞–µ—Ç! ‚úÖ

---

## üÜò –ï–°–õ–ò –ù–ï –†–ê–ë–û–¢–ê–ï–¢

### –ü—Ä–æ–±–ª–µ–º–∞: "Permission denied"

**–†–µ—à–µ–Ω–∏–µ:**
```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
ls -la ~/.ssh/

# –î–æ–ª–∂–Ω–æ –±—ã—Ç—å:
# drwx------  .ssh
# -rw-------  authorized_keys

# –ï—Å–ª–∏ –Ω–µ—Ç, —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ:
chmod 700 ~/.ssh
chmod 600 ~/.ssh/authorized_keys
```

### –ü—Ä–æ–±–ª–µ–º–∞: "Connection refused"

**–†–µ—à–µ–Ω–∏–µ:**
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∞–¥—Ä–µ—Å —Å–µ—Ä–≤–µ—Ä–∞
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ SSH —Å–µ—Ä–≤–∏—Å –∑–∞–ø—É—â–µ–Ω –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ

### –ü—Ä–æ–±–ª–µ–º–∞: –í—Å–µ –µ—â–µ —Ç—Ä–µ–±—É–µ—Ç –ø–∞—Ä–æ–ª—å

**–†–µ—à–µ–Ω–∏–µ:**
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –∫–ª—é—á –ø—Ä–∞–≤–∏–ª—å–Ω–æ –¥–æ–±–∞–≤–ª–µ–Ω:
   ```bash
   cat ~/.ssh/authorized_keys
   ```

2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∞:
   ```bash
   chmod 700 ~/.ssh
   chmod 600 ~/.ssh/authorized_keys
   ```

3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –∫–ª—é—á:
   ```bash
   # –ù–∞ –≤–∞—à–µ–º –∫–æ–º–ø—å—é—Ç–µ—Ä–µ
   type $env:USERPROFILE\.ssh\id_rsa.pub
   # –°—Ä–∞–≤–Ω–∏—Ç–µ —Å —Ç–µ–º, —á—Ç–æ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
   ```

---

## üìù –í–ê–ñ–ù–û

- **–ö–ª—é—á –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –≤ –æ–¥–Ω—É —Å—Ç—Ä–æ–∫—É** (–±–µ–∑ –ø–µ—Ä–µ–Ω–æ—Å–æ–≤)
- **–ü—Ä–∞–≤–∞ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å:** 700 –¥–ª—è `.ssh`, 600 –¥–ª—è `authorized_keys`
- **–§–∞–π–ª `authorized_keys` –¥–æ–ª–∂–µ–Ω —Å—É—â–µ—Å—Ç–≤–æ–≤–∞—Ç—å** –ø–µ—Ä–µ–¥ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ–º –∫–ª—é—á–∞

---

## üí° –°–û–í–ï–¢

–ï—Å–ª–∏ –Ω–µ —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ –¥–µ–ª–∞–µ—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ:
1. –°–Ω–∞—á–∞–ª–∞ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ –∫–æ–º–∞–Ω–¥—ã –ø–æ –æ—Ç–¥–µ–ª—å–Ω–æ—Å—Ç–∏
2. –ü—Ä–æ–≤–µ—Ä—è–π—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç –ø–æ—Å–ª–µ –∫–∞–∂–¥–æ–π –∫–æ–º–∞–Ω–¥—ã
3. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `cat ~/.ssh/authorized_keys` –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏
