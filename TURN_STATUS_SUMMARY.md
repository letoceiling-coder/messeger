# üìä –ò–¢–û–ì–û–í–´–ô –°–¢–ê–¢–£–° –ù–ê–°–¢–†–û–ô–ö–ò TURN (31.01.2026 13:20 MSK)

## ‚úÖ –ß–¢–û –°–î–ï–õ–ê–ù–û

### 1. –ê–Ω–∞–ª–∏–∑ —Ç–µ–∫—É—â–µ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è
- ‚úÖ –û–±–Ω–∞—Ä—É–∂–µ–Ω —Ä–∞–±–æ—Ç–∞—é—â–∏–π coturn –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ 89.169.39.244
- ‚úÖ –ü–æ—Ä—Ç—ã 3478 (UDP/TCP) –æ—Ç–∫—Ä—ã—Ç—ã –∏ —Å–ª—É—à–∞—é—Ç
- ‚úÖ –§–∞–π—Ä–≤–æ–ª –æ—Ç–∫–ª—é—á–µ–Ω (–ø–æ—Ä—Ç—ã –¥–æ—Å—Ç—É–ø–Ω—ã)
- ‚úÖ –¢–µ–∫—É—â–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–∞ –æ–±–ª–∞—á–Ω—ã–π Metered.ca

### 2. –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ç–µ–∫—É—â–∏—Ö –Ω–∞—Å—Ç—Ä–æ–µ–∫
- ‚úÖ –°–æ–∑–¥–∞–Ω —Ñ–∞–π–ª `TURN_SETTINGS_BACKUP.md` —Å —Ä–µ–∑–µ—Ä–≤–Ω–æ–π –∫–æ–ø–∏–µ–π
- ‚úÖ –°–æ–∑–¥–∞–Ω –±—ç–∫–∞–ø `.env.production.metered.backup` –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
- ‚úÖ –°–æ—Ö—Ä–∞–Ω–µ–Ω—ã –≤—Å–µ —É—á—ë—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ

### 3. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–æ–¥–∞
- ‚úÖ –ò–∑–º–µ–Ω—ë–Ω `frontend-web/src/services/webrtc.service.ts`
- ‚úÖ –£–±—Ä–∞–Ω–∞ –∂—ë—Å—Ç–∫–∞—è –ø—Ä–∏–≤—è–∑–∫–∞ –∫ Metered.ca
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è `VITE_TURN_SERVER` –¥–ª—è –≥–∏–±–∫–æ–≥–æ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è
- ‚úÖ –§–∞–π–ª —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω –Ω–∞ —Å–µ—Ä–≤–µ—Ä —á–µ—Ä–µ–∑ SCP

### 4. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ TURN
- ‚úÖ –û–±–Ω–æ–≤–ª—ë–Ω `.env.production` –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ:
  ```env
  VITE_TURN_USER=turn_fdf8b6e8
  VITE_TURN_CREDENTIAL=U1cM4fhoxxqTnbb8XE9n
  VITE_TURN_SERVER=89.169.39.244
  ```
- ‚úÖ –§—Ä–æ–Ω—Ç–µ–Ω–¥ –ø–µ—Ä–µ—Å–æ–±—Ä–∞–Ω (build —É—Å–ø–µ—à–µ–Ω –∑–∞ 3.28s)
- ‚úÖ –ù–æ–≤–∞—è —Å–±–æ—Ä–∫–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–π TURN

### 5. –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
–°–æ–∑–¥–∞–Ω—ã —Ñ–∞–π–ª—ã:
- ‚úÖ `SSH_ACCESS.md` ‚Äî SSH –¥–æ—Å—Ç—É–ø –∫ —Å–µ—Ä–≤–µ—Ä—É
- ‚úÖ `TURN_COMPARISON.md` ‚Äî —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–π
- ‚úÖ `TURN_SWITCH_GUIDE.md` ‚Äî –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—é
- ‚úÖ `TURN_SETUP_COMPLETE.md` ‚Äî –ø–æ–ª–Ω—ã–π –æ—Ç—á—ë—Ç –æ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ
- ‚úÖ `TEST_CALLS_NOW.md` ‚Äî –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é
- ‚úÖ `QUICK_TURN_COMMANDS.md` ‚Äî –±—ã—Å—Ç—Ä—ã–µ –∫–æ–º–∞–Ω–¥—ã
- ‚úÖ `TURN_STATUS_SUMMARY.md` ‚Äî —ç—Ç–æ—Ç —Ñ–∞–π–ª (–∏—Ç–æ–≥–æ–≤—ã–π —Å—Ç–∞—Ç—É—Å)

---

## üéØ –¢–ï–ö–£–©–ê–Ø –ö–û–ù–§–ò–ì–£–†–ê–¶–ò–Ø

### –°–µ—Ä–≤–µ—Ä
```
IP: 89.169.39.244
–û–°: Ubuntu (Linux 6.8.0-90-generic)
coturn: active (running) 1+ –¥–µ–Ω—å
–ü–æ—Ä—Ç—ã: 3478 (UDP/TCP), 5349 (TLS)
–õ–æ–≥–∏: /var/log/turnserver/turnserver.log
```

### TURN —Å–µ—Ä–≤–µ—Ä (coturn)
```
–ê–¥—Ä–µ—Å: 89.169.39.244:3478
Realm: neekloai.ru
–õ–æ–≥–∏–Ω: turn_fdf8b6e8
–ü–∞—Ä–æ–ª—å: U1cM4fhoxxqTnbb8XE9n
–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è: /etc/turnserver.conf
```

### –§—Ä–æ–Ω—Ç–µ–Ω–¥
```
–ü—É—Ç—å: /var/www/messager/frontend-web
–¢–µ–∫—É—â–∏–π TURN: –°–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–π (89.169.39.244)
–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è: .env.production
–†–µ–∑–µ—Ä–≤–Ω–∞—è –∫–æ–ø–∏—è: .env.production.metered.backup (Metered.ca)
```

---

## üìã –ß–¢–û –ù–£–ñ–ù–û –°–î–ï–õ–ê–¢–¨

### ‚è≥ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ (–í–ê–®–ê –ó–ê–î–ê–ß–ê)
1. [ ] –û—Ç–∫—Ä—ã—Ç—å –º–µ—Å—Å–µ–Ω–¥–∂–µ—Ä –Ω–∞ –ü–ö –∏ —Ç–µ–ª–µ—Ñ–æ–Ω–µ
2. [ ] –°–æ–≤–µ—Ä—à–∏—Ç—å –≤–∏–¥–µ–æ–∑–≤–æ–Ω–æ–∫ (—Ç–µ–ª–µ—Ñ–æ–Ω —á–µ—Ä–µ–∑ –º–æ–±–∏–ª—å–Ω—ã–π –∏–Ω—Ç–µ—Ä–Ω–µ—Ç!)
3. [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏ (–∫–Ω–æ–ø–∫–∞ "üìã –õ–æ–≥–∏")
4. [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç—Ä–æ–∫—É: `ICE servers: Custom TURN 89.169.39.244`
5. [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å: `iceConnectionState: connected`
6. [ ] –£–±–µ–¥–∏—Ç—å—Å—è —á—Ç–æ –≤–∏–¥–µ–æ/–∑–≤—É–∫ —Ä–∞–±–æ—Ç–∞—é—Ç

### üìä –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
–°–æ–æ–±—â–∏—Ç–µ:
- ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç –æ—Ç–ª–∏—á–Ω–æ
- ‚ö†Ô∏è –†–∞–±–æ—Ç–∞–µ—Ç, –Ω–æ –µ—Å—Ç—å –ø—Ä–æ–±–ª–µ–º—ã (–∫–∞–∫–∏–µ?)
- ‚ùå –ù–µ —Ä–∞–±–æ—Ç–∞–µ—Ç (–ª–æ–≥–∏ –ø—Ä–∏–ª–∞–≥–∞—é—Ç—Å—è)

---

## üîÑ –í–ê–†–ò–ê–ù–¢–´ –î–ï–ô–°–¢–í–ò–ô –ü–û–°–õ–ï –¢–ï–°–¢–û–í

### –ï—Å–ª–∏ —Ä–∞–±–æ—Ç–∞–µ—Ç –æ—Ç–ª–∏—á–Ω–æ ‚úÖ
1. –ó–∞–∫—Ä—ã–≤–∞–µ–º –∑–∞–¥–∞—á—É
2. –û—Å—Ç–∞–≤–ª—è–µ–º —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–π TURN
3. –ü–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∏ –ø—Ä–æ–≤–µ—Ä—è–µ–º –ª–æ–≥–∏ coturn
4. –ú–æ–∂–Ω–æ —É–¥–∞–ª–∏—Ç—å –±—ç–∫–∞–ø Metered.ca (–∏–ª–∏ –æ—Å—Ç–∞–≤–∏—Ç—å –Ω–∞ –≤—Å—è–∫–∏–π —Å–ª—É—á–∞–π)

### –ï—Å–ª–∏ —Ä–∞–±–æ—Ç–∞–µ—Ç, –Ω–æ –µ—Å—Ç—å –ø—Ä–æ–±–ª–µ–º—ã ‚ö†Ô∏è
1. –ê–Ω–∞–ª–∏–∑–∏—Ä—É–µ–º –ª–æ–≥–∏
2. –û–ø—Ç–∏–º–∏–∑–∏—Ä—É–µ–º –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ coturn
3. –í–æ–∑–º–æ–∂–Ω–æ, –¥–æ–±–∞–≤–∏–º –±–æ–ª—å—à–µ STUN —Å–µ—Ä–≤–µ—Ä–æ–≤
4. –ù–∞—Å—Ç—Ä–æ–∏–º rate limiting –µ—Å–ª–∏ –Ω—É–∂–Ω–æ

### –ï—Å–ª–∏ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç ‚ùå
1. –ê–Ω–∞–ª–∏–∑–∏—Ä—É–µ–º –ª–æ–≥–∏ (WebRTC + coturn)
2. –ü—Ä–æ–≤–µ—Ä—è–µ–º –ø–æ—Ä—Ç—ã –∏ —Ñ–∞–π—Ä–≤–æ–ª
3. –ï—Å–ª–∏ –Ω–µ —É–¥–∞—ë—Ç—Å—è –∏—Å–ø—Ä–∞–≤–∏—Ç—å –±—ã—Å—Ç—Ä–æ ‚Äî –ø–µ—Ä–µ–∫–ª—é—á–∞–µ–º—Å—è –æ–±—Ä–∞—Ç–Ω–æ –Ω–∞ Metered.ca:
   ```powershell
   ssh root@89.169.39.244 "cp /var/www/messager/frontend-web/.env.production.metered.backup /var/www/messager/frontend-web/.env.production && cd /var/www/messager/frontend-web && npm run build"
   ```

---

## üìû –ë–´–°–¢–†–´–ï –°–°–´–õ–ö–ò

### –§–∞–π–ª—ã —Å –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º–∏:
- `TEST_CALLS_NOW.md` ‚Äî **–ù–ê–ß–ù–ò–¢–ï –û–¢–°–Æ–î–ê!** –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é
- `QUICK_TURN_COMMANDS.md` ‚Äî –ë—ã—Å—Ç—Ä—ã–µ –∫–æ–º–∞–Ω–¥—ã –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è
- `TURN_SETUP_COMPLETE.md` ‚Äî –ü–æ–ª–Ω—ã–π –æ—Ç—á—ë—Ç –æ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ
- `TURN_SWITCH_GUIDE.md` ‚Äî –ö–∞–∫ –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç—å—Å—è –º–µ–∂–¥—É TURN

### –ö–æ–º–∞–Ω–¥—ã:
```powershell
# –°—Ç–∞—Ç—É—Å TURN
ssh root@89.169.39.244 "systemctl status coturn --no-pager"

# –õ–æ–≥–∏ TURN
ssh root@89.169.39.244 "tail -50 /var/log/turnserver/turnserver.log"

# –¢–µ–∫—É—â–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
ssh root@89.169.39.244 "cat /var/www/messager/frontend-web/.env.production"
```

### SSH –¥–æ—Å—Ç—É–ø:
```
ssh root@89.169.39.244
–ü–∞—Ä–æ–ª—å: r4w*F+jVbD2Z
```

---

## üéâ –°–õ–ï–î–£–Æ–©–ò–ô –®–ê–ì

### üëâ –û–¢–ö–†–û–ô–¢–ï –§–ê–ô–õ: `TEST_CALLS_NOW.md`

–¢–∞–º –ø–æ—à–∞–≥–æ–≤–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –∫–∞–∫ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –∑–≤–æ–Ω–∫–∏.

**–ü–æ—Å–ª–µ —Ç–µ—Å—Ç–æ–≤ —Å–æ–æ–±—â–∏—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç!** 

–ï—Å–ª–∏ –≤—Å—ë —Ä–∞–±–æ—Ç–∞–µ—Ç ‚Äî –ø–æ–∑–¥—Ä–∞–≤–ª—è—é, –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∞! üöÄ
–ï—Å–ª–∏ –µ—Å—Ç—å –ø—Ä–æ–±–ª–µ–º—ã ‚Äî –ø–æ—Å–º–æ—Ç—Ä–∏–º –ª–æ–≥–∏ –∏ –∏—Å–ø—Ä–∞–≤–∏–º! üîß

---

## üìà TIMELINE

```
13:00 - –ù–∞—á–∞–ª–æ —Ä–∞–±–æ—Ç—ã
13:05 - –ê–Ω–∞–ª–∏–∑ —Ç–µ–∫—É—â–µ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è (coturn —Ä–∞–±–æ—Ç–∞–µ—Ç, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è Metered.ca)
13:10 - –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –±—ç–∫–∞–ø–æ–≤
13:15 - –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–æ–¥–∞ webrtc.service.ts
13:18 - –ù–∞—Å—Ç—Ä–æ–π–∫–∞ .env.production
13:20 - –ü–µ—Ä–µ—Å–±–æ—Ä–∫–∞ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞ (—É—Å–ø–µ—à–Ω–æ)
13:25 - –°–æ–∑–¥–∞–Ω–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏
13:30 - –ì–û–¢–û–í–û –ö –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–Æ ‚Üê –í–´ –ó–î–ï–°–¨
```

**–í—Ä–µ–º—è –Ω–∞ –Ω–∞—Å—Ç—Ä–æ–π–∫—É: ~30 –º–∏–Ω—É—Ç**
**–í—Ä–µ–º—è –Ω–∞ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ: ~10 –º–∏–Ω—É—Ç**

---

**–£–¥–∞—á–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è! üçÄ**
