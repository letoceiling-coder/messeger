# –ù–ê–°–¢–†–û–ô–ö–ê NGINX –ù–ê BEGET - –ü–û–®–ê–ì–û–í–ê–Ø –ò–ù–°–¢–†–£–ö–¶–ò–Ø

## ‚ö†Ô∏è –í–ê–ñ–ù–û

–ù–∞ Beget –Ω–µ—Ç –ø—Ä—è–º–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞ –∫ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—é Nginx —á–µ—Ä–µ–∑ –ø–∞–Ω–µ–ª—å. –ù—É–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å —Ñ–∞–π–ª `.nginx.conf` –≤ –∫–æ—Ä–Ω–µ —Å–∞–π—Ç–∞.

---

## üìã –ü–û–®–ê–ì–û–í–ê–Ø –ò–ù–°–¢–†–£–ö–¶–ò–Ø

### –í–∞—Ä–∏–∞–Ω—Ç 1: –ß–µ—Ä–µ–∑ SSH (–†–ï–ö–û–ú–ï–ù–î–£–ï–¢–°–Ø)

–§–∞–π–ª `.nginx.conf` —É–∂–µ —Å–æ–∑–¥–∞–Ω –∏ —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω –Ω–∞ —Å–µ—Ä–≤–µ—Ä!

**–ü—Ä–æ–≤–µ—Ä—å—Ç–µ:**

```bash
ssh dsc23ytp@5.101.156.207
ls -la ~/parser-auto.site-access.ru/.nginx.conf
```

**–ï—Å–ª–∏ —Ñ–∞–π–ª –µ—Å—Ç—å** - Nginx –¥–æ–ª–∂–µ–Ω –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–¥—Ö–≤–∞—Ç–∏—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é.

**–ï—Å–ª–∏ —Ñ–∞–π–ª–∞ –Ω–µ—Ç** - —Å–∫–æ–ø–∏—Ä—É–π—Ç–µ –≤—Ä—É—á–Ω—É—é:

```bash
# –ù–∞ –≤–∞—à–µ–º –∫–æ–º–ø—å—é—Ç–µ—Ä–µ
scp .nginx.conf dsc23ytp@5.101.156.207:~/parser-auto.site-access.ru/.nginx.conf
```

---

### –í–∞—Ä–∏–∞–Ω—Ç 2: –ß–µ—Ä–µ–∑ —Ñ–∞–π–ª–æ–≤—ã–π –º–µ–Ω–µ–¥–∂–µ—Ä –≤ –ø–∞–Ω–µ–ª–∏ Beget

1. –ó–∞–π–¥–∏—Ç–µ –≤ –ø–∞–Ω–µ–ª—å Beget: `https://cp.beget.com`
2. –û—Ç–∫—Ä–æ–π—Ç–µ **"–§–∞–π–ª–æ–≤—ã–π –º–µ–Ω–µ–¥–∂–µ—Ä"** –∏–ª–∏ **"File Manager"**
3. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –∫–æ—Ä–µ–Ω—å —Å–∞–π—Ç–∞: `parser-auto.site-access.ru`
4. –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π —Ñ–∞–π–ª: `.nginx.conf`
5. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ –∏–∑ —Ñ–∞–π–ª–∞ `.nginx.conf` –≤ –ø—Ä–æ–µ–∫—Ç–µ
6. –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ —Ñ–∞–π–ª

---

### –í–∞—Ä–∏–∞–Ω—Ç 3: –ß–µ—Ä–µ–∑ —Ä–µ–¥–∞–∫—Ç–æ—Ä –≤ –ø–∞–Ω–µ–ª–∏

1. –í –ø–∞–Ω–µ–ª–∏ Beget –æ—Ç–∫—Ä–æ–π—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–∞–π—Ç–∞ (—à–µ—Å—Ç–µ—Ä–µ–Ω–∫–∞)
2. –ù–∞–π–¥–∏—Ç–µ —Ä–∞–∑–¥–µ–ª **"–†–µ–¥–∞–∫—Ç–æ—Ä –¥–∏—Ä–µ–∫—Ç–∏–≤ PHP"** –∏–ª–∏ **"PHP Directives Editor"**
3. –†—è–¥–æ–º –º–æ–∂–µ—Ç –±—ã—Ç—å –æ–ø—Ü–∏—è –¥–ª—è —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è Nginx –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
4. –ò–ª–∏ —Å–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.nginx.conf` —á–µ—Ä–µ–∑ —Ñ–∞–π–ª–æ–≤—ã–π –º–µ–Ω–µ–¥–∂–µ—Ä

---

## üîç –ü–†–û–í–ï–†–ö–ê

–ü–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è —Ñ–∞–π–ª–∞ `.nginx.conf`:

1. **–ü–æ–¥–æ–∂–¥–∏—Ç–µ 1-2 –º–∏–Ω—É—Ç—ã** (Nginx –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)

2. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–∞–±–æ—Ç—É API:**

```bash
curl https://parser-auto.siteaccess.ru/api/health
```

–î–æ–ª–∂–µ–Ω –≤–µ—Ä–Ω—É—Ç—å: `{"status":"ok"}`

3. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ Frontend:**

–û—Ç–∫—Ä–æ–π—Ç–µ: `https://parser-auto.siteaccess.ru/`

---

## ‚ö†Ô∏è –ï–°–õ–ò –ù–ï –†–ê–ë–û–¢–ê–ï–¢

### –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞ 1: –û–±—Ä–∞—Ç–∏—Ç—å—Å—è –≤ –ø–æ–¥–¥–µ—Ä–∂–∫—É Beget

–ù–∞–ø–∏—à–∏—Ç–µ –≤ –ø–æ–¥–¥–µ—Ä–∂–∫—É Beget –∏ –ø–æ–ø—Ä–æ—Å–∏—Ç–µ:
- –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –ø—Ä–æ–∫—Å–∏—Ä–æ–≤–∞–Ω–∏–µ `/api` ‚Üí `http://localhost:3000`
- –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –ø—Ä–æ–∫—Å–∏—Ä–æ–≤–∞–Ω–∏–µ `/socket.io/` ‚Üí `http://localhost:3000`

### –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞ 2: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø–æ–¥–¥–æ–º–µ–Ω –¥–ª—è API

1. –°–æ–∑–¥–∞–π—Ç–µ –ø–æ–¥–¥–æ–º–µ–Ω `api.parser-auto.siteaccess.ru` —á–µ—Ä–µ–∑ –ø–∞–Ω–µ–ª—å
2. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –µ–≥–æ –Ω–∞ –ø–æ—Ä—Ç 3000
3. –û–±–Ω–æ–≤–∏—Ç–µ `VITE_API_URL` –≤–æ Frontend

---

## üìù –°–û–î–ï–†–ñ–ò–ú–û–ï –§–ê–ô–õ–ê .nginx.conf

–§–∞–π–ª —É–∂–µ —Å–æ–∑–¥–∞–Ω –∏ —Å–æ–¥–µ—Ä–∂–∏—Ç:

```nginx
# Backend API
location /api {
    proxy_pass http://localhost:3000;
    proxy_http_version 1.1;
    proxy_set_header Host $host;
    proxy_set_header X-Real-IP $remote_addr;
    proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
    proxy_set_header X-Forwarded-Proto $scheme;
}

# WebSocket
location /socket.io/ {
    proxy_pass http://localhost:3000;
    proxy_http_version 1.1;
    proxy_set_header Upgrade $http_upgrade;
    proxy_set_header Connection "upgrade";
    proxy_set_header Host $host;
}

# –ó–∞–≥—Ä—É–∑–∫–∞ —Ñ–∞–π–ª–æ–≤
location /uploads/ {
    alias /home/dsc23ytp/messager/backend/uploads/;
    expires 1y;
    add_header Cache-Control "public";
}
```

---

## ‚úÖ –ì–û–¢–û–í–û!

–ü–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è —Ñ–∞–π–ª–∞ `.nginx.conf` –≤ –∫–æ—Ä–Ω–µ —Å–∞–π—Ç–∞, Nginx –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏–º–µ–Ω–∏—Ç –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é, –∏ API –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–µ–Ω!

**–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á–µ—Ä–µ–∑ 1-2 –º–∏–Ω—É—Ç—ã:**
```bash
curl https://parser-auto.siteaccess.ru/api/health
```
