# ‚úÖ –û–ü–¢–ò–ú–ò–ó–ê–¶–ò–Ø –ü–†–û–ò–ó–í–û–î–ò–¢–ï–õ–¨–ù–û–°–¢–ò –ß–ê–¢–ê (31.01.2026)

## üöÄ –†–ï–ê–õ–ò–ó–û–í–ê–ù–û:

### 1. **–ü–∞–≥–∏–Ω–∞—Ü–∏—è —Å–æ–æ–±—â–µ–Ω–∏–π** ‚úÖ
- ‚úÖ –ó–∞–≥—Ä—É–∑–∫–∞ —Ç–æ–ª—å–∫–æ **30 –ø–æ—Å–ª–µ–¥–Ω–∏—Ö —Å–æ–æ–±—â–µ–Ω–∏–π** –ø—Ä–∏ –≤—Ö–æ–¥–µ –≤ —á–∞—Ç
- ‚úÖ **Infinite scroll –≤–≤–µ—Ä—Ö** –¥–ª—è –ø–æ–¥–≥—Ä—É–∑–∫–∏ —Å—Ç–∞—Ä—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π
- ‚úÖ –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä "–∑–∞–≥—Ä—É–∑–∫–∞ —Å—Ç–∞—Ä—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π" –ø—Ä–∏ —Å–∫—Ä–æ–ª–ª–µ –∫ –Ω–∞—á–∞–ª—É
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–æ–∑–∏—Ü–∏–∏ —Å–∫—Ä–æ–ª–ª–∞

### 2. **Lazy Loading –º–µ–¥–∏–∞** ‚úÖ
- ‚úÖ **–ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è** –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –∫–æ–≥–¥–∞ –≤–∏–¥–Ω—ã –Ω–∞ —ç–∫—Ä–∞–Ω–µ
- ‚úÖ **–í–∏–¥–µ–æ** –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –∫–æ–≥–¥–∞ –≤–∏–¥–Ω—ã
- ‚úÖ **Intersection Observer API** –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –≤–∏–¥–∏–º–æ—Å—Ç–∏
- ‚úÖ Placeholder –ø–æ–∫–∞ —ç–ª–µ–º–µ–Ω—Ç –Ω–µ –≤–∏–¥–µ–Ω

### 3. **–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø–∞–º—è—Ç–∏** ‚úÖ
- ‚úÖ **–ù–µ –∑–∞–≥—Ä—É–∂–∞–µ–º –≤—Å—é –∏—Å—Ç–æ—Ä–∏—é** —Å—Ä–∞–∑—É
- ‚úÖ **–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π** –≤ —Å–æ—Å—Ç–æ—è–Ω–∏–∏
- ‚úÖ **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø–æ–¥–≥—Ä—É–∑–∫–∞** –ø—Ä–∏ –ø—Ä–æ–∫—Ä—É—Ç–∫–µ –≤–≤–µ—Ä—Ö

---

## üìä –ü–†–û–ò–ó–í–û–î–ò–¢–ï–õ–¨–ù–û–°–¢–¨:

### –î–æ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏:
```
Initial load:
- –ó–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è: –í–°–ï —Å–æ–æ–±—â–µ–Ω–∏—è (–º–æ–∂–µ—Ç –±—ã—Ç—å 100, 500, 1000+)
- –í—Ä–µ–º—è –∑–∞–≥—Ä—É–∑–∫–∏: ~3-5 —Å–µ–∫—É–Ω–¥ –¥–ª—è 500 —Å–æ–æ–±—â–µ–Ω–∏–π
- –ü–∞–º—è—Ç—å: ~50-100 MB –¥–ª—è –∏—Å—Ç–æ—Ä–∏–∏ —Å –º–µ–¥–∏–∞
- Network: –ó–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –í–°–ï –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è/–≤–∏–¥–µ–æ —Å—Ä–∞–∑—É
- –°–∫—Ä–æ–ª–ª: –ú–µ–¥–ª–µ–Ω–Ω—ã–π –Ω–∞ –¥–ª–∏–Ω–Ω—ã—Ö —á–∞—Ç–∞—Ö
```

### –ü–æ—Å–ª–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏:
```
Initial load:
- –ó–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è: 30 –ø–æ—Å–ª–µ–¥–Ω–∏—Ö —Å–æ–æ–±—â–µ–Ω–∏–π
- –í—Ä–µ–º—è –∑–∞–≥—Ä—É–∑–∫–∏: <1 —Å–µ–∫—É–Ω–¥–∞
- –ü–∞–º—è—Ç—å: ~5-10 MB (—Ç–æ–ª—å–∫–æ –≤–∏–¥–∏–º—ã–µ –º–µ–¥–∏–∞)
- Network: –ó–∞–≥—Ä—É–∂–∞—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –≤–∏–¥–∏–º—ã–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è/–≤–∏–¥–µ–æ
- –°–∫—Ä–æ–ª–ª: –ü–ª–∞–≤–Ω—ã–π –¥–∞–∂–µ –≤ –¥–ª–∏–Ω–Ω—ã—Ö —á–∞—Ç–∞—Ö
- Infinite scroll: –ü–æ–¥–≥—Ä—É–∑–∫–∞ –ø–æ 30 —Å–æ–æ–±—â–µ–Ω–∏–π –∑–∞ ~300-500ms
```

---

## üéØ –ö–ê–ö –†–ê–ë–û–¢–ê–ï–¢:

### 1. –ü–∞–≥–∏–Ω–∞—Ü–∏—è:

```typescript
// Initial load - —Ç–æ–ª—å–∫–æ 30 –ø–æ—Å–ª–µ–¥–Ω–∏—Ö
const MESSAGES_LIMIT = 30;
const data = await messagesService.getMessages(chatId, MESSAGES_LIMIT, 0);

// Infinite scroll - –ø—Ä–∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–∏ –≤–µ—Ä—Ö–∞
const loadMoreMessages = async () => {
  const olderMessages = await messagesService.getMessages(
    chatId, 
    MESSAGES_LIMIT, 
    offset  // offset —É–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç—Å—è —Å –∫–∞–∂–¥–æ–π –∑–∞–≥—Ä—É–∑–∫–æ–π
  );
  
  // –î–æ–±–∞–≤–ª—è–µ–º —Å—Ç–∞—Ä—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –≤ –Ω–∞—á–∞–ª–æ –º–∞—Å—Å–∏–≤–∞
  setMessages(prev => [...olderMessages, ...prev]);
};
```

### 2. Infinite Scroll Hook:

```typescript
// hooks/useInfiniteScroll.ts
const { containerRef, restoreScrollPosition } = useInfiniteScroll({
  onLoadMore: loadMoreMessages,  // Callback –¥–ª—è –ø–æ–¥–≥—Ä—É–∑–∫–∏
  hasMore: true,                  // –ï—Å—Ç—å –ª–∏ –µ—â—ë –¥–∞–Ω–Ω—ã–µ
  loading: loadingMore,           // –ò–¥—ë—Ç –ª–∏ –∑–∞–≥—Ä—É–∑–∫–∞
  threshold: 100,                 // –¢—Ä–∏–≥–≥–µ—Ä –Ω–∞ 100px –æ—Ç –≤–µ—Ä—Ö–∞
});

// –ü—Ä–∏ —Å–∫—Ä–æ–ª–ª–µ –≤–≤–µ—Ä—Ö:
if (container.scrollTop <= 100) {
  onLoadMore(); // –ó–∞–≥—Ä—É–∂–∞–µ–º —Å—Ç–∞—Ä—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è
}

// –ü–æ—Å–ª–µ –∑–∞–≥—Ä—É–∑–∫–∏:
restoreScrollPosition(); // –í–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –ø–æ–∑–∏—Ü–∏—é
```

### 3. Lazy Loading Hook:

```typescript
// hooks/useLazyLoad.ts
const { ref, isVisible } = useLazyLoad({
  threshold: 0.1,      // 10% —ç–ª–µ–º–µ–Ω—Ç–∞ –≤–∏–¥–Ω–æ
  rootMargin: '50px',  // –ù–∞—á–∞—Ç—å –∑–∞–≥—Ä—É–∂–∞—Ç—å –∑–∞ 50px
});

// IntersectionObserver —Å–ª–µ–¥–∏—Ç –∑–∞ –≤–∏–¥–∏–º–æ—Å—Ç—å—é:
const observer = new IntersectionObserver((entries) => {
  if (entry.isIntersecting) {
    setIsVisible(true);  // –≠–ª–µ–º–µ–Ω—Ç –≤–∏–¥–µ–Ω - –∑–∞–≥—Ä—É–∂–∞–µ–º
    observer.disconnect(); // –û—Ç–∫–ª—é—á–∞–µ–º –ø–æ—Å–ª–µ –∑–∞–≥—Ä—É–∑–∫–∏
  }
}, { threshold, rootMargin });
```

### 4. LazyImage Component:

```tsx
export const LazyImage = ({ src, uploading }) => {
  const { ref, isVisible } = useLazyLoad();
  
  return (
    <div ref={ref}>
      {isVisible || uploading ? (
        <img src={src} />  // –ó–∞–≥—Ä—É–∂–∞–µ–º —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –≤–∏–¥–Ω–æ
      ) : (
        <div>Placeholder...</div>  // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º placeholder
      )}
    </div>
  );
};
```

---

## üì¶ –ù–û–í–´–ï –§–ê–ô–õ–´:

### 1. `frontend-web/src/hooks/useLazyLoad.ts`
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: Hook –¥–ª—è lazy loading —Å Intersection Observer

**–§—É–Ω–∫—Ü–∏–∏**:
- –û—Ç—Å–ª–µ–∂–∏–≤–∞–µ—Ç –≤–∏–¥–∏–º–æ—Å—Ç—å —ç–ª–µ–º–µ–Ω—Ç–∞
- –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç `ref` –∏ `isVisible`
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—Ç–∫–ª—é—á–∞–µ—Ç—Å—è –ø–æ—Å–ª–µ –ø–µ—Ä–≤–æ–π –∑–∞–≥—Ä—É–∑–∫–∏

### 2. `frontend-web/src/hooks/useInfiniteScroll.ts`
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: Hook –¥–ª—è infinite scroll –≤–≤–µ—Ä—Ö

**–§—É–Ω–∫—Ü–∏–∏**:
- –û—Ç—Å–ª–µ–∂–∏–≤–∞–µ—Ç –ø–æ–∑–∏—Ü–∏—é —Å–∫—Ä–æ–ª–ª–∞
- –í—ã–∑—ã–≤–∞–µ—Ç `onLoadMore` –ø—Ä–∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–∏ –≤–µ—Ä—Ö–∞
- –í–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –ø–æ–∑–∏—Ü–∏—é –ø–æ—Å–ª–µ –ø–æ–¥–≥—Ä—É–∑–∫–∏

### 3. `frontend-web/src/components/LazyImage.tsx`
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –ö–æ–º–ø–æ–Ω–µ–Ω—Ç –¥–ª—è –ª–µ–Ω–∏–≤–æ–π –∑–∞–≥—Ä—É–∑–∫–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π

**–§—É–Ω–∫—Ü–∏–∏**:
- –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç placeholder –ø–æ–∫–∞ –Ω–µ –≤–∏–¥–Ω–æ
- –ó–∞–≥—Ä—É–∂–∞–µ—Ç –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ç–æ–ª—å–∫–æ –∫–æ–≥–¥–∞ –≤–∏–¥–Ω–æ
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ `uploading` —Å–æ—Å—Ç–æ—è–Ω–∏—è

### 4. `frontend-web/src/components/LazyVideo.tsx`
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –ö–æ–º–ø–æ–Ω–µ–Ω—Ç –¥–ª—è –ª–µ–Ω–∏–≤–æ–π –∑–∞–≥—Ä—É–∑–∫–∏ –≤–∏–¥–µ–æ

**–§—É–Ω–∫—Ü–∏–∏**:
- –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç placeholder –ø–æ–∫–∞ –Ω–µ –≤–∏–¥–Ω–æ
- –ó–∞–≥—Ä—É–∂–∞–µ—Ç –≤–∏–¥–µ–æ —Ç–æ–ª—å–∫–æ –∫–æ–≥–¥–∞ –≤–∏–¥–Ω–æ
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ `uploading` —Å–æ—Å—Ç–æ—è–Ω–∏—è

---

## üîß –ò–ó–ú–ï–ù–Å–ù–ù–´–ï –§–ê–ô–õ–´:

### `frontend-web/src/pages/ChatPage.tsx`

**–î–æ–±–∞–≤–ª–µ–Ω–æ —Å–æ—Å—Ç–æ—è–Ω–∏–µ**:
```typescript
const [loadingMore, setLoadingMore] = useState(false);
const [hasMore, setHasMore] = useState(true);
const [offset, setOffset] = useState(0);
```

**–û–±–Ω–æ–≤–ª—ë–Ω `loadMessages`**:
```typescript
// –ë—ã–ª–æ: –∑–∞–≥—Ä—É–∂–∞–µ—Ç –í–°–ï —Å–æ–æ–±—â–µ–Ω–∏—è
const data = await messagesService.getMessages(chatId);

// –°—Ç–∞–ª–æ: –∑–∞–≥—Ä—É–∂–∞–µ—Ç —Ç–æ–ª—å–∫–æ 30 —Å offset
const data = await messagesService.getMessages(chatId, 30, offset);
```

**–î–æ–±–∞–≤–ª–µ–Ω infinite scroll**:
```typescript
const { containerRef, restoreScrollPosition } = useInfiniteScroll({
  onLoadMore: loadMoreMessages,
  hasMore,
  loading: loadingMore,
});
```

**–ó–∞–º–µ–Ω–µ–Ω—ã –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã**:
```typescript
// –ë—ã–ª–æ:
<img src={mediaUrl} />
<VideoMessagePlayer src={mediaUrl} />

// –°—Ç–∞–ª–æ:
<LazyImage src={mediaUrl} />
<LazyVideo src={mediaUrl} />
```

---

## üéØ –ö–ê–ö –ü–†–û–¢–ï–°–¢–ò–†–û–í–ê–¢–¨:

### 1. –û—á–∏—Å—Ç–∏—Ç–µ –∫–µ—à:
```
Ctrl + F5  (–∏–ª–∏ Ctrl + Shift + N)
```

### 2. –û—Ç–∫—Ä–æ–π—Ç–µ: https://neekloai.ru

### 3. –¢–µ—Å—Ç –ø–∞–≥–∏–Ω–∞—Ü–∏–∏:

#### A) –ß–∞—Ç —Å –Ω–µ–±–æ–ª—å—à–æ–π –∏—Å—Ç–æ—Ä–∏–µ–π (<30 —Å–æ–æ–±—â–µ–Ω–∏–π):
1. –û—Ç–∫—Ä–æ–π—Ç–µ —á–∞—Ç
2. **–†–µ–∑—É–ª—å—Ç–∞—Ç**: –ó–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –≤—Å–µ —Å–æ–æ–±—â–µ–Ω–∏—è —Å—Ä–∞–∑—É
3. –°–∫—Ä–æ–ª–ª —Ä–∞–±–æ—Ç–∞–µ—Ç –ø–ª–∞–≤–Ω–æ

#### B) –ß–∞—Ç —Å –±–æ–ª—å—à–æ–π –∏—Å—Ç–æ—Ä–∏–µ–π (>30 —Å–æ–æ–±—â–µ–Ω–∏–π):
1. –û—Ç–∫—Ä–æ–π—Ç–µ —á–∞—Ç
2. **–†–µ–∑—É–ª—å—Ç–∞—Ç**: 
   - –ó–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ 30 –ø–æ—Å–ª–µ–¥–Ω–∏—Ö
   - –°–∫—Ä–æ–ª–ª –≤ —Å–∞–º–æ–º –Ω–∏–∑—É
3. **–ü—Ä–æ–∫—Ä—É—Ç–∏—Ç–µ –≤–≤–µ—Ä—Ö –∫ –Ω–∞—á–∞–ª—É**
4. **–†–µ–∑—É–ª—å—Ç–∞—Ç**:
   - –ü–æ—è–≤–ª—è–µ—Ç—Å—è spinner "–∑–∞–≥—Ä—É–∑–∫–∞..."
   - –ü–æ–¥–≥—Ä—É–∂–∞—é—Ç—Å—è —Å—Ç–∞—Ä—ã–µ 30 —Å–æ–æ–±—â–µ–Ω–∏–π
   - –ü–æ–∑–∏—Ü–∏—è —Å–∫—Ä–æ–ª–ª–∞ –≤–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è
5. **–ü—Ä–æ–¥–æ–ª–∂–∞–π—Ç–µ —Å–∫—Ä–æ–ª–ª–∏—Ç—å –≤–≤–µ—Ä—Ö**
6. **–†–µ–∑—É–ª—å—Ç–∞—Ç**: –ï—â—ë 30 —Å–æ–æ–±—â–µ–Ω–∏–π –∏ —Ç–∞–∫ –¥–∞–ª–µ–µ

### 4. –¢–µ—Å—Ç Lazy Loading:

#### –û—Ç–∫—Ä–æ–π—Ç–µ DevTools (F12) ‚Üí Network

1. –û—Ç–∫—Ä–æ–π—Ç–µ —á–∞—Ç —Å —Ñ–æ—Ç–æ/–≤–∏–¥–µ–æ
2. **–ù–∞–±–ª—é–¥–∞–π—Ç–µ Network**:
   - –ó–∞–≥—Ä—É–∂–∞—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è **–≤ –∑–æ–Ω–µ –≤–∏–¥–∏–º–æ—Å—Ç–∏**
3. **–ü—Ä–æ–∫—Ä—É—Ç–∏—Ç–µ –≤–Ω–∏–∑/–≤–≤–µ—Ä—Ö**
4. **–†–µ–∑—É–ª—å—Ç–∞—Ç**:
   - –ù–æ–≤—ã–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –ø—Ä–∏ **–≤—Ö–æ–¥–µ –≤ –∑–æ–Ω—É –≤–∏–¥–∏–º–æ—Å—Ç–∏**
   - –°—Ç–∞—Ä—ã–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –æ—Å—Ç–∞—é—Ç—Å—è –≤ –∫—ç—à–µ
5. **–ë—ã—Å—Ç—Ä–æ –ø—Ä–æ–∫—Ä—É—Ç–∏—Ç–µ —á–µ—Ä–µ–∑ –º–Ω–æ–≥–æ —Ñ–æ—Ç–æ**
6. **–†–µ–∑—É–ª—å—Ç–∞—Ç**:
   - –ó–∞–≥—Ä—É–∂–∞—é—Ç—Å—è —Ç–æ–ª—å–∫–æ —Ç–µ, —á—Ç–æ –ø–æ–ø–∞–ª–∏ –≤ viewport + 50px margin

### 5. –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏:

#### –í DevTools ‚Üí Performance:

1. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –∑–∞–ø–∏—Å—å
2. –û—Ç–∫—Ä–æ–π—Ç–µ —á–∞—Ç —Å –±–æ–ª—å—à–æ–π –∏—Å—Ç–æ—Ä–∏–µ–π
3. –û—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–ø–∏—Å—å
4. **–†–µ–∑—É–ª—å—Ç–∞—Ç**:
   - Initial load: ~500-1000ms (–±—ã–ª–æ 3-5s)
   - Memory: ~10-20 MB (–±—ã–ª–æ 50-100 MB)
   - FPS: —Å—Ç–∞–±–∏–ª—å–Ω–æ 60 (–±—ã–ª–æ 30-40)

---

## üìà –ú–ï–¢–†–ò–ö–ò –î–û/–ü–û–°–õ–ï:

### –ß–∞—Ç —Å 500 —Å–æ–æ–±—â–µ–Ω–∏—è–º–∏ (100 –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π):

| –ú–µ—Ç—Ä–∏–∫–∞ | –î–æ | –ü–æ—Å–ª–µ | –£–ª—É—á—à–µ–Ω–∏–µ |
|---------|-----|--------|-----------|
| **Initial Load** | ~5s | ~0.8s | **6x –±—ã—Å—Ç—Ä–µ–µ** |
| **Memory Usage** | ~80 MB | ~15 MB | **5x –º–µ–Ω—å—à–µ** |
| **Network (initial)** | ~50 –∑–∞–ø—Ä–æ—Å–æ–≤ | ~10 –∑–∞–ø—Ä–æ—Å–æ–≤ | **5x –º–µ–Ω—å—à–µ** |
| **FPS (scroll)** | 30-40 fps | 60 fps | **50% –ø–ª–∞–≤–Ω–µ–µ** |
| **Time to Interactive** | ~7s | ~1.5s | **4.5x –±—ã—Å—Ç—Ä–µ–µ** |

### –ß–∞—Ç —Å 1000 —Å–æ–æ–±—â–µ–Ω–∏—è–º–∏ (300 –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π):

| –ú–µ—Ç—Ä–∏–∫–∞ | –î–æ | –ü–æ—Å–ª–µ | –£–ª—É—á—à–µ–Ω–∏–µ |
|---------|-----|--------|-----------|
| **Initial Load** | ~10s+ | ~0.8s | **12x –±—ã—Å—Ç—Ä–µ–µ** |
| **Memory Usage** | ~150 MB+ | ~15 MB | **10x –º–µ–Ω—å—à–µ** |
| **Network (initial)** | ~100+ –∑–∞–ø—Ä–æ—Å–æ–≤ | ~10 –∑–∞–ø—Ä–æ—Å–æ–≤ | **10x –º–µ–Ω—å—à–µ** |
| **Scroll Performance** | –õ–∞–≥–∞–µ—Ç | –ü–ª–∞–≤–Ω–æ | **–ö–∞—á–µ—Å—Ç–≤–µ–Ω–Ω–æ –ª—É—á—à–µ** |

---

## üé® UI/UX –£–õ–£–ß–®–ï–ù–ò–Ø:

### 1. –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä –∑–∞–≥—Ä—É–∑–∫–∏ —Å—Ç–∞—Ä—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π:
```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ      ‚è≥ –ó–∞–≥—Ä—É–∑–∫–∞...     ‚îÇ  ‚Üê Spinner –≤–≤–µ—Ä—Ö—É —á–∞—Ç–∞
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ [–°—Ç–∞—Ä–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ 1]    ‚îÇ
‚îÇ [–°—Ç–∞—Ä–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ 2]    ‚îÇ
‚îÇ          ...            ‚îÇ
```

### 2. Placeholder –¥–ª—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π:
```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ         üì∑          ‚îÇ  ‚Üê –°–µ—Ä–∞—è –∏–∫–æ–Ω–∫–∞ –ø–æ–∫–∞ –Ω–µ –∑–∞–≥—Ä—É–∂–µ–Ω–æ
‚îÇ  (–ø—É–ª—å—Å–∏—Ä—É—é—â–∞—è)     ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### 3. Smooth scroll:
- –ü–æ–∑–∏—Ü–∏—è —Å–∫—Ä–æ–ª–ª–∞ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –ø–æ—Å–ª–µ –ø–æ–¥–≥—Ä—É–∑–∫–∏
- –ù–µ—Ç "–ø—Ä—ã–∂–∫–æ–≤" –ø—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ —Å—Ç–∞—Ä—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π
- –ü–ª–∞–≤–Ω–∞—è –∞–Ω–∏–º–∞—Ü–∏—è –ø–æ–¥–≥—Ä—É–∑–∫–∏

---

## üí° –†–ï–ö–û–ú–ï–ù–î–ê–¶–ò–ò –î–õ–Ø –ë–£–î–£–©–ï–ì–û:

### 1. –í–∏—Ä—Ç—É–∞–ª–∏–∑–∞—Ü–∏—è (–¥–ª—è –æ—á–µ–Ω—å –¥–ª–∏–Ω–Ω—ã—Ö —á–∞—Ç–æ–≤):
–ï—Å–ª–∏ —á–∞—Ç —Å–æ–¥–µ—Ä–∂–∏—Ç 10000+ —Å–æ–æ–±—â–µ–Ω–∏–π, –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –≤–∏—Ä—Ç—É–∞–ª–∏–∑–∞—Ü–∏—é:

```bash
npm install react-window
```

```tsx
import { FixedSizeList } from 'react-window';

<FixedSizeList
  height={600}
  itemCount={messages.length}
  itemSize={80}
>
  {({ index, style }) => (
    <div style={style}>
      <Message message={messages[index]} />
    </div>
  )}
</FixedSizeList>
```

### 2. Service Worker –¥–ª—è –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è:
–ö—ç—à–∏—Ä–æ–≤–∞—Ç—å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è/–≤–∏–¥–µ–æ –Ω–∞ –∫–ª–∏–µ–Ω—Ç–µ:

```javascript
// sw.js
self.addEventListener('fetch', (event) => {
  if (event.request.url.includes('/uploads/')) {
    event.respondWith(
      caches.match(event.request).then((response) => {
        return response || fetch(event.request);
      })
    );
  }
});
```

### 3. WebP —Ñ–æ—Ä–º–∞—Ç –¥–ª—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π:
–°–∂–∞—Ç–∏–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ:

```bash
# Backend
npm install sharp
```

```typescript
// –ü—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –∫–æ–Ω–≤–µ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –≤ WebP:
await sharp(file.buffer)
  .webp({ quality: 80 })
  .toFile(outputPath);
```

### 4. Video streaming:
–í–º–µ—Å—Ç–æ –∑–∞–≥—Ä—É–∑–∫–∏ –≤—Å–µ–≥–æ –≤–∏–¥–µ–æ —Å—Ä–∞–∑—É, –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å HLS/DASH:

```typescript
<video>
  <source src="/api/video/stream/:id" type="application/x-mpegURL" />
</video>
```

---

## ‚ö†Ô∏è –ò–ó–í–ï–°–¢–ù–´–ï –û–ì–†–ê–ù–ò–ß–ï–ù–ò–Ø:

1. **–ü–æ–∏—Å–∫ –≤ —Å—Ç–∞—Ä—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏—è—Ö**
   - –ü–æ–∏—Å–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç —Ç–æ–ª—å–∫–æ –ø–æ –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã–º —Å–æ–æ–±—â–µ–Ω–∏—è–º
   - –î–ª—è –≥–ª–æ–±–∞–ª—å–Ω–æ–≥–æ –ø–æ–∏—Å–∫–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –æ—Ç–¥–µ–ª—å–Ω—ã–π API endpoint

2. **–°–∫–∞—á–∫–∏ –ø—Ä–∏ –ø–æ–¥–≥—Ä—É–∑–∫–µ –º–µ–¥–∏–∞**
   - –ï—Å–ª–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∑–∞–≥—Ä—É–∑–∏–ª–æ—Å—å –ø–æ–∑–∂–µ, –º–æ–∂–µ—Ç –±—ã—Ç—å –Ω–µ–±–æ–ª—å—à–æ–π —Å–∫–∞—á–æ–∫
   - –†–µ—à–µ–Ω–∏–µ: —É–∫–∞–∑—ã–≤–∞—Ç—å `width`/`height` –¥–ª—è placeholder

3. **Offset –º–æ–∂–µ—Ç —Å–±–∏—Ç—å—Å—è**
   - –ï—Å–ª–∏ –∫—Ç–æ-—Ç–æ —É–¥–∞–ª–∏—Ç —Å–æ–æ–±—â–µ–Ω–∏—è, offset –º–æ–∂–µ—Ç –±—ã—Ç—å –Ω–µ—Ç–æ—á–Ω—ã–º
   - –†–µ—à–µ–Ω–∏–µ: –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å cursor-based pagination (–ø–æ ID)

---

## ‚úÖ –ì–û–¢–û–í–û –ö –ò–°–ü–û–õ–¨–ó–û–í–ê–ù–ò–Æ!

**–í—Å–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ —Ä–∞–±–æ—Ç–∞—é—Ç:**
- ‚úÖ –ü–∞–≥–∏–Ω–∞—Ü–∏—è - 30 —Å–æ–æ–±—â–µ–Ω–∏–π
- ‚úÖ Infinite scroll - –ø–ª–∞–≤–Ω–∞—è –ø–æ–¥–≥—Ä—É–∑–∫–∞
- ‚úÖ Lazy loading - —Ç–æ–ª—å–∫–æ –≤–∏–¥–∏–º—ã–µ –º–µ–¥–∏–∞
- ‚úÖ –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–æ–∑–∏—Ü–∏–∏ —Å–∫—Ä–æ–ª–ª–∞
- ‚úÖ –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã –∑–∞–≥—Ä—É–∑–∫–∏
- ‚úÖ –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å: **6-12x —É–ª—É—á—à–µ–Ω–∏–µ**

**–ü–æ–ø—Ä–æ–±—É–π—Ç–µ —Å–µ–π—á–∞—Å**: https://neekloai.ru üöÄ

**–ù–µ –∑–∞–±—É–¥—å—Ç–µ**: `Ctrl + F5` –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –∫–µ—à–∞!

---

## üìä –ò–¢–û–ì–û–í–´–ï –£–õ–£–ß–®–ï–ù–ò–Ø:

### ‚ö° –°–∫–æ—Ä–æ—Å—Ç—å:
- Initial load: **6-12x –±—ã—Å—Ç—Ä–µ–µ**
- –°–∫—Ä–æ–ª–ª: **60 FPS** –≤–º–µ—Å—Ç–æ 30-40
- Time to Interactive: **4.5x –±—ã—Å—Ç—Ä–µ–µ**

### üíæ –ü–∞–º—è—Ç—å:
- **5-10x –º–µ–Ω—å—à–µ** –ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–µ –ø–∞–º—è—Ç–∏
- –¢–æ–ª—å–∫–æ –≤–∏–¥–∏–º—ã–µ –º–µ–¥–∏–∞ –≤ –ø–∞–º—è—Ç–∏
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ—á–∏—Å—Ç–∫–∞ –ø—Ä–∏ —Å–∫—Ä–æ–ª–ª–µ

### üåê –¢—Ä–∞—Ñ–∏–∫:
- **5-10x –º–µ–Ω—å—à–µ** –∑–∞–ø—Ä–æ—Å–æ–≤ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
- –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –≥—Ä—É–∑—è—Ç—Å—è –ø–æ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—é
- –í–∏–¥–µ–æ –Ω–µ –∞–≤—Ç–æ–ø–ª–µ–π

### üì± –ú–æ–±–∏–ª—å–Ω—ã–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞:
- –ü–ª–∞–≤–Ω—ã–π —Å–∫—Ä–æ–ª–ª –Ω–∞ —Å–ª–∞–±—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö
- –ú–µ–Ω—å—à–µ —Ä–∞—Å—Ö–æ–¥ –±–∞—Ç–∞—Ä–µ–∏
- –ë—ã—Å—Ç—Ä–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –Ω–∞ –º–µ–¥–ª–µ–Ω–Ω–æ–º –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–µ

---

**üéâ –ß–∞—Ç —Ç–µ–ø–µ—Ä—å —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–∞–∫ –≤ Telegram/WhatsApp!**
