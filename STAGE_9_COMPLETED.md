# ะญัะฐะฟ 9 โ ะะฒะพะฝะบะธ (ะดะพัะฐะฑะพัะบะธ) โ

ะะฐัะฐ ะทะฐะฒะตััะตะฝะธั: 2026-01-30

---

## โ ะญัะฐะฟ 9: ะะพัะฐะฑะพัะบะฐ UI ะทะฒะพะฝะบะพะฒ

### 9.1 ะฃะปัััะตะฝะฝัะน UI ะฒัะพะดััะตะณะพ ะทะฒะพะฝะบะฐ โ

**ะงัะพ ะฑัะปะพ:**
- ะัะพััะพะต ะผะพะดะฐะปัะฝะพะต ะพะบะฝะพ ั ัะตััะผ ัะพะฝะพะผ
- ะะฝะพะฟะบะธ "ะัะธะฝััั" ะธ "ะัะบะปะพะฝะธัั" ะพะดะธะฝะฐะบะพะฒะพะณะพ ัะฐะทะผะตัะฐ
- ะะตะปะบะธะต ะธะบะพะฝะบะธ ะธ ัะตะบัั
- ะะต ะพัะตะฝั ะทะฐะผะตัะฝะฐั ะบะฝะพะฟะบะฐ ะพัะบะปะพะฝะตะฝะธั

**ะงัะพ ััะฐะปะพ:**

#### ะะธะทัะฐะปัะฝัะน ะดะธะทะฐะนะฝ:
```tsx
<div className="fixed inset-0 bg-black/90 backdrop-blur-sm">
  <div className="bg-app-surface rounded-2xl p-8 
                  border border-app-border shadow-2xl">
    {/* ะะพะฝัะตะฝั */}
  </div>
</div>
```

**ะัะพะฑะตะฝะฝะพััะธ:**
- `backdrop-blur-sm` โ ัะฐะทะผััะธะต ัะพะฝะฐ
- `shadow-2xl` โ ะฑะพะปััะฐั ัะตะฝั ะดะปั ะผะพะดะฐะปัะฝะพะณะพ ะพะบะฝะฐ
- ะขะพะบะตะฝั ัะฒะตัะพะฒ: `app-surface`, `app-border`

---

#### ะะฝะธะผะธัะพะฒะฐะฝะฝะฐั ะธะบะพะฝะบะฐ ะทะฒะพะฝะบะฐ:

```tsx
<div className="w-20 h-20 mx-auto mb-6 rounded-full 
                bg-app-accent/20 flex items-center justify-center 
                animate-pulse">
  {videoMode ? <VideoIcon /> : <PhoneIcon />}
</div>
```

**ะะฐะทะผะตั:** 80ร80px (ะฑัะปะพ ~40px)  
**ะะฝะธะผะฐัะธั:** `animate-pulse` โ ะฟัะปััะธััััะฐั ะธะบะพะฝะบะฐ  
**ะฆะฒะตั:** `app-accent` (ัะธะฝะธะน)  
**ะะบะพะฝะบะธ:** SVG ะดะปั ะฒะธะดะตะพ ะธ ะณะพะปะพัะพะฒะพะณะพ ะทะฒะพะฝะบะฐ

---

#### ะะฐะณะพะปะพะฒะพะบ:

```tsx
<div className="text-center mb-8">
  <p className="text-app-text-secondary text-sm mb-2">
    {videoMode ? 'ะัะพะดััะธะน ะฒะธะดะตะพะทะฒะพะฝะพะบ' : 'ะัะพะดััะธะน ะณะพะปะพัะพะฒะพะน ะทะฒะพะฝะพะบ'}
  </p>
  <h2 className="text-2xl font-bold text-app-text">{contactName}</h2>
</div>
```

**ะะฐะทะผะตั ะธะผะตะฝะธ:** `text-2xl` (ะฑัะปะพ `text-xl`)  
**ะััััะฟั:** ัะฒะตะปะธัะตะฝั ะดะปั ะฑะพะปััะตะน ะฒะพะทะดััะฝะพััะธ

---

#### ะะฝะพะฟะบะธ:

**1. ะะฝะพะฟะบะฐ "ะัะธะฝััั" (ะทะตะปัะฝะฐั):**
```tsx
<button className="flex-1 bg-app-success hover:bg-app-success/80 
                   text-white px-6 py-4 rounded-2xl font-semibold 
                   text-lg transition-all active:scale-95 shadow-lg 
                   flex items-center justify-center gap-2">
  <PhoneIcon />
  ะัะธะฝััั
</button>
```

**ะะทะผะตะฝะตะฝะธั:**
- ะะฐะทะผะตั: `px-6 py-4` (ะฑัะปะพ `px-4 py-3`)
- ะกะบััะณะปะตะฝะธะต: `rounded-2xl` (ะฑัะปะพ `rounded-xl`)
- ะจัะธัั: `text-lg font-semibold` (ะฑัะปะพ `font-medium`)
- ะะบะพะฝะบะฐ: SVG ัะตะปะตัะพะฝะฐ ะฒะฝัััะธ ะบะฝะพะฟะบะธ
- ะญััะตะบั: `active:scale-95` โ ะฝะฐะถะฐัะธะต

---

**2. ะะฝะพะฟะบะฐ "ะัะบะปะพะฝะธัั" (ะะะะกะะะฏ, ะะะะะขะะะฏ):**
```tsx
<button className="flex-1 bg-app-error hover:bg-app-error/80 
                   text-white px-6 py-4 rounded-2xl font-semibold 
                   text-lg transition-all active:scale-95 shadow-lg 
                   ring-4 ring-app-error/30 
                   flex items-center justify-center gap-2">
  <DeclineIcon />
  ะัะบะปะพะฝะธัั
</button>
```

**ะะปััะตะฒัะต ะพัะพะฑะตะฝะฝะพััะธ:**
- โ **ะะพะปััะพ:** `ring-4 ring-app-error/30` โ **ะะะะกะะะ ะะะะฌะฆะ ะะะะะฃะ ะะะะะะ!**
- โ **ะฆะฒะตั:** `bg-app-error` (ััะบะพ-ะบัะฐัะฝัะน)
- โ **ะะฐะทะผะตั:** ัะฒะตะปะธัะตะฝ ะบะฐะบ ั "ะัะธะฝััั"
- โ **ะะบะพะฝะบะฐ:** SVG ัััะฑะบะธ "ะฟะพะปะพะถะธัั"
- โ **ะขะตะฝั:** `shadow-lg`

**ะะธะทัะฐะปัะฝะพ:**
```
โโโโโโโโโโโโโโโ  โโโโโโโโโโโโโโโโโโโโโ
โ   ะัะธะฝััั   โ  โ โจredโฉ ะัะบะปะพะฝะธัั โจ/redโฉ โ โ ะบัะฐัะฝะพะต ะบะพะปััะพ
โโโโโโโโโโโโโโโ  โโโโโโโโโโโโโโโโโโโโโ
```

---

### 9.2 ะกะพััะพัะฝะธั ะทะฒะพะฝะบะฐ โ

**ะะพะฑะฐะฒะปะตะฝั ัะฐะทะปะธัะฝัะต ัะพััะพัะฝะธั ะดะปั ะธััะพะดััะตะณะพ ะธ ะฒัะพะดััะตะณะพ ะทะฒะพะฝะบะพะฒ:**

#### ะะปั ะธััะพะดััะตะณะพ ะทะฒะพะฝะบะฐ (caller):
```tsx
isConnecting && !isIncoming ? 'ะะฒะพะฝะธะผ...' : ...
```

**ะัะพะฑัะฐะถะฐะตััั:** "ะะฒะพะฝะธะผ..." ะฟะพะบะฐ ะถะดัะผ ะพัะฒะตัะฐ

---

#### ะะปั ะฒัะพะดััะตะณะพ ะทะฒะพะฝะบะฐ (callee):
```tsx
isConnecting && isIncoming ? 'ะกะพะตะดะธะฝัะตะผัั...' : ...
```

**ะัะพะฑัะฐะถะฐะตััั:** "ะกะพะตะดะธะฝัะตะผัั..." ะฟะพัะปะต ะฟัะธะฝััะธั ะทะฒะพะฝะบะฐ

---

#### ะััะณะธะต ัะพััะพัะฝะธั:

**1. ะะพะดะบะปััะตะฝะพ:**
```tsx
!isConnecting && !connectionError && !noAnswer ? 'ะะพะปะพัะพะฒะพะน ะทะฒะพะฝะพะบ' : ...
```

**2. ะะต ะพัะฒะตัะธะป:**
```tsx
noAnswer ? 'ะกะพะฑะตัะตะดะฝะธะบ ะฝะต ะพัะฒะตัะธะป' : ...
```

**3. ะัะธะฑะบะฐ ัะพะตะดะธะฝะตะฝะธั:**
```tsx
connectionError ? 'ะะต ัะดะฐะปะพัั ะฟะพะดะบะปััะธัััั' : ...
```

---

### ะะธะทัะฐะปะธะทะฐัะธั ัะพััะพัะฝะธะน

#### ะะพะปะพัะพะฒะพะน ะทะฒะพะฝะพะบ:

**ะััะพะดััะธะน (caller):**
```
โโโโโโโโโโโโโโโโโโโโโโโโ
โ     [Avatar Icon]     โ
โ                       โ
โ   ะะผั ัะพะฑะตัะตะดะฝะธะบะฐ     โ
โ     ะะฒะพะฝะธะผ... ๐      โ โ ะฝะพะฒะพะต ัะพััะพัะฝะธะต
โโโโโโโโโโโโโโโโโโโโโโโโ
```

**ะัะพะดััะธะน (callee, ะฟะพัะปะต ะฟัะธะฝััะธั):**
```
โโโโโโโโโโโโโโโโโโโโโโโโ
โ     [Avatar Icon]     โ
โ                       โ
โ   ะะผั ัะพะฑะตัะตะดะฝะธะบะฐ     โ
โ   ะกะพะตะดะธะฝัะตะผัั... ๐   โ โ ะฝะพะฒะพะต ัะพััะพัะฝะธะต
โโโโโโโโโโโโโโโโโโโโโโโโ
```

**ะะพ ะฒัะตะผั ัะฐะทะณะพะฒะพัะฐ:**
```
โโโโโโโโโโโโโโโโโโโโโโโโ
โ     [Avatar Icon]     โ
โ                       โ
โ   ะะผั ัะพะฑะตัะตะดะฝะธะบะฐ     โ
โ   ะะพะปะพัะพะฒะพะน ะทะฒะพะฝะพะบ    โ
โ      00:01:23         โ โ ัะฐะนะผะตั
โโโโโโโโโโโโโโโโโโโโโโโโ
```

---

#### ะะธะดะตะพะทะฒะพะฝะพะบ:

**Overlay ั ัะพััะพัะฝะธะตะผ:**
```tsx
<div className="absolute inset-0 bg-black/95 backdrop-blur-sm">
  <div className="text-white text-xl font-semibold">
    {isIncoming ? 'ะกะพะตะดะธะฝัะตะผัั...' : 'ะะฒะพะฝะธะผ...'}
  </div>
</div>
```

**ะัะพะฑะตะฝะฝะพััะธ:**
- ะะพะปัะฟัะพะทัะฐัะฝัะน ัััะฝัะน ัะพะฝ (`bg-black/95`)
- ะะฐะทะผััะธะต (`backdrop-blur-sm`)
- ะััะฟะฝัะน ัะตะบัั (`text-xl font-semibold`)
- ะกะบััะฒะฐะตััั ะฟัะธ ัััะฐะฝะพะฒะบะต ัะพะตะดะธะฝะตะฝะธั

---

## ะขะตัะฝะธัะตัะบะธะต ะดะตัะฐะปะธ

### ะกะพััะพัะฝะธะต ะบะพะผะฟะพะฝะตะฝัะฐ:
```typescript
const [isConnecting, setIsConnecting] = useState(true);
const [connectionError, setConnectionError] = useState(false);
const [noAnswer, setNoAnswer] = useState(false);
```

### ะะพะณะธะบะฐ ะพะฟัะตะดะตะปะตะฝะธั ัะพััะพัะฝะธั:
```typescript
const status = noAnswer 
  ? 'ะกะพะฑะตัะตะดะฝะธะบ ะฝะต ะพัะฒะตัะธะป'
  : connectionError 
    ? 'ะะต ัะดะฐะปะพัั ะฟะพะดะบะปััะธัััั'
    : isConnecting 
      ? (isIncoming ? 'ะกะพะตะดะธะฝัะตะผัั...' : 'ะะฒะพะฝะธะผ...')
      : 'ะะพะปะพัะพะฒะพะน ะทะฒะพะฝะพะบ';
```

### ะะฒัะบะพะฒะพะต ัะพะฟัะพะฒะพะถะดะตะฝะธะต:

**ะััะพะดััะธะน ะทะฒะพะฝะพะบ:**
```typescript
useEffect(() => {
  if (!isIncoming && isConnecting) {
    soundService.playOutgoingRingtone(); // ton.mp3
  }
  return () => {
    soundService.stopRingtone();
  };
}, [isIncoming, isConnecting]);
```

**ะััะฐะฝะพะฒะบะฐ ะฟัะธ ัะพะตะดะธะฝะตะฝะธะธ:**
```typescript
useEffect(() => {
  if (remoteStream && !isIncoming) {
    soundService.stopRingtone();
  }
}, [remoteStream, isIncoming]);
```

---

## ะกัะฐะฒะฝะตะฝะธะต "ะะพ" ะธ "ะะพัะปะต"

### ะัะพะดััะธะน ะทะฒะพะฝะพะบ:

**ะะ:**
```
โโโโโโโโโโโโโโโโโโโโโโโ
โ ะัะพะดััะธะน ะทะฒะพะฝะพะบ     โ
โ ะะผั ัะพะฑะตัะตะดะฝะธะบะฐ     โ
โ                     โ
โ [ะัะธะฝััั] [ะัะบะปะพะฝะธัั]โ โ ะพะดะธะฝะฐะบะพะฒัะต ะบะฝะพะฟะบะธ
โโโโโโโโโโโโโโโโโโโโโโโ
```

**ะะะกะะ:**
```
โโโโโโโโโโโโโโโโโโโโโโโ
โ    [๐ฅ pulsing]     โ โ ะฑะพะปััะฐั ะฟัะปััะธััััะฐั ะธะบะพะฝะบะฐ
โ                     โ
โ ะัะพะดััะธะน ะฒะธะดะตะพะทะฒะพะฝะพะบโ
โ  ะะผั ัะพะฑะตัะตะดะฝะธะบะฐ    โ
โ                     โ
โ [๐ ะัะธะฝััั] [โจred ringโฉ๐ต ะัะบะปะพะฝะธััโจ/red ringโฉ] โ โ ะธะบะพะฝะบะธ + ะบัะฐัะฝะพะต ะบะพะปััะพ!
โโโโโโโโโโโโโโโโโโโโโโโ
```

---

### ะกะพััะพัะฝะธั ะทะฒะพะฝะบะฐ:

**ะะ:**
```
ะะพะดะบะปััะตะฝะธะต...  (ะฒัะตะณะดะฐ ะพะดะฝะพ ะธ ัะพ ะถะต)
```

**ะะะกะะ:**
```
ะะฒะพะฝะธะผ...       (ะธััะพะดััะธะน, ะถะดัะผ ะพัะฒะตัะฐ)
ะกะพะตะดะธะฝัะตะผัั...  (ะฒัะพะดััะธะน, ะฟะพัะปะต ะฟัะธะฝััะธั)
ะะพะปะพัะพะฒะพะน ะทะฒะพะฝะพะบ (ะฒะพ ะฒัะตะผั ัะฐะทะณะพะฒะพัะฐ)
ะกะพะฑะตัะตะดะฝะธะบ ะฝะต ะพัะฒะตัะธะป (timeout)
ะะต ัะดะฐะปะพัั ะฟะพะดะบะปััะธัััั (error)
```

---

## ะะพะดะณะพัะพะฒะบะฐ ะบ ะผะพะฑะธะปัะฝะพะน ะฒะตััะธะธ

### ะะธะฑัะฐัะธั (ะดะปั ะฑัะดััะตะน ัะตะฐะปะธะทะฐัะธะธ):

```typescript
// ะัะธะผะตั ะดะปั ะผะพะฑะธะปัะฝะพะณะพ ะฟัะธะปะพะถะตะฝะธั
if (navigator.vibrate && isIncoming) {
  // ะะธะฑัะฐัะธั ะฟัะธ ะฒัะพะดััะตะผ ะทะฒะพะฝะบะต
  navigator.vibrate([1000, 500, 1000]); // ะบะพัะพัะบะธะน-ะฟะฐัะทะฐ-ะบะพัะพัะบะธะน
}

// ะัะธ ะฟัะธะฝััะธะธ ะทะฒะพะฝะบะฐ
onAccepted={() => {
  navigator.vibrate(200); // ะบะพัะพัะบะฐั ะฒะธะฑัะฐัะธั
  soundService.stopRingtone();
}}

// ะัะธ ะพัะบะปะพะฝะตะฝะธะธ
handleReject() {
  navigator.vibrate(100); // ะพัะตะฝั ะบะพัะพัะบะฐั
  webrtcService.rejectCall(chatId);
  onEnd();
}
```

### ะะพัะพะฒะพ ะดะปั ะธะฝัะตะณัะฐัะธะธ:
- API ัะถะต ะตััั ะฒ ะฑัะฐัะทะตัะต (`navigator.vibrate`)
- ะะปั React Native: `import { Vibration } from 'react-native'`
- ะะฐัััะพะนะบะธ ะฒะธะฑัะฐัะธะธ ัะถะต ะดะพะฑะฐะฒะปะตะฝั ะฒ Settings (localStorage)

---

## ะคะฐะนะปั

### ะะฑะฝะพะฒะปัะฝะฝัะต:
- `frontend-web/src/components/VideoCall.tsx` (+80 ัััะพะบ ัะปัััะตะฝะธะน)

### ะะพะฒัะต:
- `STAGE_9_COMPLETED.md` (ััะพั ัะฐะนะป)

---

## UI/UX ัะปัััะตะฝะธั

### ะัะพะดััะธะน ะทะฒะพะฝะพะบ:
โ ะะพะปััะฐั ะฟัะปััะธััััะฐั ะธะบะพะฝะบะฐ (80ร80px)  
โ ะงััะบะธะน ะทะฐะณะพะปะพะฒะพะบ ั ัะธะฟะพะผ ะทะฒะพะฝะบะฐ  
โ ะััะฟะฝัะต ะบะฝะพะฟะบะธ ั ะธะบะพะฝะบะฐะผะธ  
โ **ะัะฐัะฝะพะต ะบะพะปััะพ ะฒะพะบััะณ ะบะฝะพะฟะบะธ "ะัะบะปะพะฝะธัั"** โ ะณะปะฐะฒะฝะพะต!  
โ Backdrop blur ะดะปั ัะพะบััะฐ  
โ ะขะตะฝะธ ะธ ะฐะฝะธะผะฐัะธะธ

### ะกะพััะพัะฝะธั:
โ "ะะฒะพะฝะธะผ..." ะดะปั ะธััะพะดััะธั  
โ "ะกะพะตะดะธะฝัะตะผัั..." ะดะปั ะฒัะพะดััะธั  
โ ะงััะบะธะต ัะพะพะฑัะตะฝะธั ะพะฑ ะพัะธะฑะบะฐั  
โ ะััะฟะฝัะน ััะธัั ะดะปั ัะธัะฐะตะผะพััะธ

### ะะฝะธะผะฐัะธะธ:
โ `animate-pulse` ะฝะฐ ะธะบะพะฝะบะต ะทะฒะพะฝะบะฐ  
โ `active:scale-95` ะฝะฐ ะบะฝะพะฟะบะฐั  
โ `hover` ัััะตะบัั ะฝะฐ ะฒัะตั ะบะฝะพะฟะบะฐั  
โ `backdrop-blur-sm` ะดะปั ัะพะฝะฐ

---

## ะัะพะณะธ ััะฐะฟะพะฒ 0-11+6+5+7+9

### โ ะัะฟะพะปะฝะตะฝะพ:
- **ะญัะฐะฟ 0** โ ะัััััะต ะฟะพะฑะตะดั (UX)
- **ะญัะฐะฟ 1** โ ะะพะปะต ะฒะฒะพะดะฐ Telegram
- **ะญัะฐะฟ 2** โ ะะฐะฟะธัั ะฐัะดะธะพ
- **ะญัะฐะฟ 4** โ ะญะผะพะดะทะธ (192 ัั, 8 ะบะฐัะตะณะพัะธะน)
- **ะญัะฐะฟ 3+8** โ ะคะพัะพ/ะะธะดะตะพ
- **ะญัะฐะฟ 11** โ ะกะบะตะปะตัะพะฝั ะทะฐะณััะทะบะธ
- **ะญัะฐะฟ 6** โ ะะฐัััะพะนะบะธ (ะฟัะพัะธะปั + ัะฒะตะดะพะผะปะตะฝะธั + ะบะพะฝัะธะดะตะฝัะธะฐะปัะฝะพััั)
- **ะญัะฐะฟ 5** โ ะะพะธัะบ ะฟะพ ัะฐัะฐะผ
- **ะญัะฐะฟ 7** โ ะกัะฐัััั ัะพะพะฑัะตะฝะธะน (โ/โโ, ัะธะฝะธะต ะดะปั "ะฟัะพัะธัะฐะฝะพ")
- **ะญัะฐะฟ 9** โ ะะฒะพะฝะบะธ (ัะปัััะตะฝะฝัะน UI, ัะพััะพัะฝะธั) โ

### ๐ ะกัะฐัะธััะธะบะฐ:
- **ะะพัะพะฒะฝะพััั ะฑะฐะทะพะฒะพะณะพ UI:** ~80% โ
- **ะะพะฒัั/ะพะฑะฝะพะฒะปัะฝะฝัั ัะฐะนะปะพะฒ:** 18+
- **ะกััะพะบ ะบะพะดะฐ:** ~2300+

---

## ะกะปะตะดัััะธะต ััะฐะฟั (ะฟะพ ะฟะปะฐะฝั)

### ๐ ะญัะฐะฟ 10: ะะพะปะณะพะต ะฝะฐะถะฐัะธะต ะธ ะบะพะฝัะตะบััะฝะพะต ะผะตะฝั
- ะฃะถะต ะตััั ัะฐััะธัะฝะพ (ะพัะฒะตั, ะฟะตัะตัะปะฐัั, ัะดะฐะปะธัั)
- ะะพะฑะฐะฒะธัั ัะตะดะฐะบัะธัะพะฒะฐะฝะธะต ัะพะพะฑัะตะฝะธะน
- ะฃะปัััะธัั UX ะบะพะฝัะตะบััะฝะพะณะพ ะผะตะฝั

### ๐ ะญัะฐะฟ 12: ะะพะปะธัะพะฒะบะฐ UX
- ะะฐะทะดะตะปะธัะตะปะธ ะดะฐั ะฒ ัะฐัะต
- ะะฝะพะฟะบะฐ "ะัะพะบัััะธัั ะฒะฝะธะท" ะฟัะธ ะฝะพะฒัั ัะพะพะฑัะตะฝะธัั
- A11y (ะดะพัััะฟะฝะพััั)
- ะะฝะดะธะบะฐัะพั ะฟะพะดะบะปััะตะฝะธั WebSocket
- ะะฟัะธะผะธััะธัะฝะพะต ะพะฑะฝะพะฒะปะตะฝะธะต UI

### ๐ ะญัะฐะฟ 13: ะะฟัะธะพะฝะฐะปัะฝัะต ัะธัะธ
- ะะธัััะฐะปะธะทะฐัะธั ัะพะพะฑัะตะฝะธะน
- ะัะตะฒัั ัััะปะพะบ
- ะะฝะฑะพัะดะธะฝะณ
- ะะพัััะธะต ะบะปะฐะฒะธัะธ

---

**ะกัะฐััั ะฟัะพะตะบัะฐ:** ะะฒะพะฝะบะธ ัะปัััะตะฝั โ  
**ะะพัะพะฒะฝะพััั:** ~80% ะฑะฐะทะพะฒะพะณะพ ััะฝะบัะธะพะฝะฐะปะฐ  
**ะกะปะตะดัััะธะน ัะพะบัั:** ะะพะฝัะตะบััะฝะพะต ะผะตะฝั โ ะะพะปะธัะพะฒะบะฐ UX โ ะะพะฑะธะปัะฝัะต ะฟัะธะปะพะถะตะฝะธั
